
/**
 * The code below uses open source software. Please visit the URL below for an overview of the licenses:
 * http://js.api.here.com/v3/3.1.61.3/HERE_NOTICE
 */

H.util.eval("T.prototype.Yn=da(3,function(a){var b=this.getCache(),c=this;if(a!==x){B(a,Uj,T.prototype.Yn,0);var d=a}else d=dl;d!==b&&b.ia(function(e,f,g){return c.cc(e)?(d.add(e,f,g),!0):!1});this.jt=d});Tg.prototype.Yb=da(2,function(a){this.ts=a;a=this.getState();a!==wg.INIT&&a!==wg.LOADING&&$g(this)});function mo(a){a=a.Vd(\"_#-;,:\",\"_#-;,:\",\"_#-;,:\");return new RegExp(\"^\"+a.replace(/[.*+?^${}()|[\\]\\\\\\/]/g,\"\\\\$&\").replace(/_#-;,:/g,\"\\\\d+\")+\"$\")}function no(a,b){Qa.apply(null,arguments);return a}\nfunction oo(a,b){var c=globalThis.console;c&&c.warn&&(a=cb(a)+\" is deprecated and will be removed soon. \",b&&(a+=b),c.warn(a))}var po={};function qo(){}qo.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||document.createElement(\"canvas\")};qo.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var ro=new qo;t(\"H.service.util.eval\",function(a){return eval(a)});function so(a,b){b=void 0===b?{}:b;if(!a.Hm)throw new wb(a);so.g.constructor.call(this);var c=to(this,b);if(!c.baseUrl&&!c.platformBaseUrl)throw new C(a,0,'either \"baseUrl\" or \"platformBaseUrl\" must be specified');this.yc=(c.baseUrl?c.baseUrl:c.platformBaseUrl).clone();a=c.baseUrl?b:c;a.host&&this.yc.Qk(a.host);a.subDomain&&this.yc.la(a.subDomain);a.path&&this.yc.wc(a.path);uo(this.yc);this.pc=c.headers||{}}u(so,F);t(\"H.service.Service\",so);function to(a,b){a=a.Da();return b?no({},a,b):a}\nso.prototype.Da=function(){return{}};so.prototype.i=function(){return this.yc};so.prototype.getUrl=so.prototype.i;so.prototype.o=function(a,b,c,d){d=new gg(void 0===d?\"application/json\":d,a.toString(),Xd,{headers:this.pc});d.then(b,vo(this,a,c));return d};function vo(a,b,c){return function(d){return\"function\"!==typeof d.json?Promise.reject(c(wo(b,d))):d.json().then(function(e){return c(a.Jc(e))},function(){return c(wo(b,d))})}}so.prototype.Jc=function(a){return Error(a.message)};\nfunction wo(a,b){return Error((b.statusText?\"[\"+b.statusText+\"] \":\"\")+a+\" request failed\")};function xo(a){xo.g.constructor.call(this,xo,a)}u(xo,so);t(\"H.service.GeofencingService\",xo);xo.CONFIG_KEY=\"geofencing\";xo.prototype.Jc=function(a){return Error(a.issues&&a.issues[0]?a.issues[0].message:a.message,{cause:a})};xo.prototype.wz=function(a,b,c){a=this.i().clone().la(\"geofencing\").wc(\"v8/geofence\").v(a);return this.I(a,\"GET\",b,c)};xo.prototype.geofence=xo.prototype.wz;\nxo.prototype.delete=function(a,b,c){a=this.i().clone().la(\"geofencing\").wc(\"v8/geofence/delete\").v(a);return this.I(a,\"GET\",b,c)};xo.prototype[\"delete\"]=xo.prototype.delete;xo.prototype.upload=function(a,b,c,d){a=this.i().clone().la(\"geofencing\").wc(\"v8/geofence/upload\").v(a);b=yo(xo.prototype.upload,b);return this.I(a,\"POST\",c,d,b)};xo.prototype.upload=xo.prototype.upload;\nxo.prototype.modify=function(a,b,c,d){a=this.i().clone().la(\"geofencing\").wc(\"v8/geofence/modify\").v(a);b=yo(xo.prototype.modify,b);return this.I(a,\"POST\",c,d,b)};xo.prototype.modify=xo.prototype.modify;function yo(a,b){if(!(b instanceof Blob))throw new C(a,1,\"must be an instance of Blob\");a=new FormData;a.append(\"file\",b);return a}\nxo.prototype.I=function(a,b,c,d,e,f){f=void 0===f?\"application/json\":f;b={method:b,headers:Object.assign({},this.pc),data:e?e:void 0};f=new gg(f,a.toString(),Xd,b);f.then(c,vo(this,a,d));return f};function zo(a){zo.g.constructor.call(this,zo,a);oo(zo,\"Use HERE Geofencing API v8 instead.\")}u(zo,so);t(\"H.service.extension.geofencing.Service\",zo);zo.prototype.Da=function(){return{subDomain:\"fleet.ls\",path:\"2\"}};zo.CONFIG_KEY=\"geofencing\";zo.prototype.request=function(a,b,c,d){return this.I(a,b,c,d)};zo.prototype.request=zo.prototype.request;zo.prototype.Jc=function(a){return Error(a.issues&&a.issues.length?a.issues.map(function(b){return b.message}).join(\". \"):a.message||a.response_code)};\nzo.prototype.I=function(a,b,c,d){if(!a)throw new C(this.request,0,a);if(!Za(c))throw new TypeError(\"onResult must be a function\");if(!Za(d))throw new TypeError(\"onError must be a function\");a=this.i().clone().A(a+\".json\").v(b);return this.o(a,c,d)};zo.EntryPoint={SEARCH_PROXIMITY:\"search/proximity\"};function W(a,b,c,d,e,f){if(a&&b)this.$r(a),this.Qk(b),this.wc(c),this.Wr(e),this.Uw(f),this.Tk(d);else throw new C(W,A,'Parameters \"scheme\" and \"host\" must be specified');}t(\"H.service.Url\",W);\nfunction Ao(a,b){var c=globalThis.document,d;var e=\"\";if(c){e=c.createElement(\"a\");if(b){var f=(d=c.getElementsByTagName(\"base\")[0])&&d.href;var g=c.head;var h=d||g.appendChild(c.createElement(\"base\"));h.href=b}e.href=a;e=e.href;b&&(d?d.href=f:g.removeChild(h))}else/[\\w]+:\\/\\//.test(a)&&(e=a);f=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(e);a=f[1];g=f[4];b=f[5];h=f[6];c=f[7];d=f[8];!f[2]&&g&&/@/.test(g)&&(g=g.split(\"@\")[1]);f=W;h=h&&0<h.length?\nh.substr(1):\"\";e={};var k,l;if(c)for(k=/([?&]?([^=&+]+))(=([^&]+))?/g;l=k.exec(c);)e[decodeURIComponent(l[2])]=l[4]?decodeURIComponent(l[4]):void 0;return new f(a,g,h,e,isNaN(+b)?void 0:+b,d&&0<d.length?d.substr(1):\"\")}W.parse=Ao;W.prototype.clone=function(){var a={},b;for(b in this.Ga)a[b]=this.Ga[b];return new W(this.oi,this.Qj,this.jf,a,this.uk,this.Db)};W.prototype.clone=W.prototype.clone;\nW.prototype.$r=function(a){if(!a||\"string\"!==typeof a)throw new C(this.$r,0,'The \"scheme\" parameter must be a non-empty string.');this.oi=a;return this};W.prototype.setScheme=W.prototype.$r;W.prototype.IA=function(){return this.oi};W.prototype.getScheme=W.prototype.IA;W.prototype.Qk=function(a){if(!a||\"string\"!==typeof a||\"-\"===a.charAt(0)||\".\"===a.charAt(0)||\".\"===a.charAt(a.length-1))throw new C(this.Qk,0,'The \"host\" parameter is not a valid host name.');this.Qj=a;return this};\nW.prototype.setHost=W.prototype.Qk;W.prototype.aA=function(){return this.Qj};W.prototype.getHost=W.prototype.aA;W.prototype.wc=function(a){this.jf=a||void 0;return this};W.prototype.setPath=W.prototype.wc;W.prototype.uA=function(){return this.jf};W.prototype.getPath=W.prototype.uA;W.prototype.Tk=function(a){if(a)if(\"object\"==typeof a)this.Ga=a;else throw new C(this.Tk,0,'Parameter \"params\" must be an object.');else this.Ga={};return this};W.prototype.setQuery=W.prototype.Tk;W.prototype.Du=function(){return!Bo(this)};\nW.prototype.hasQuery=W.prototype.Du;W.prototype.getQuery=function(){return this.Ga};W.prototype.getQuery=W.prototype.getQuery;W.prototype.Wr=function(a){if(void 0===a)this.uk=a;else{var b=ac(+a<<0,0,65535);if(b!=a)throw new C(this.Wr,0,'Parameter \"port\" must be an integer in range [0...65535]');this.uk=b}return this};W.prototype.setPort=W.prototype.Wr;W.prototype.zA=function(){return this.uk};W.prototype.getPort=W.prototype.zA;W.prototype.Uw=function(a){this.Db=a||void 0;return this};\nW.prototype.setAnchor=W.prototype.Uw;W.prototype.yp=function(){return this.Db};W.prototype.getAnchor=W.prototype.yp;W.prototype.v=function(a){if(\"object\"!==typeof a)throw new C(this.v,0,'Parameter \"other\" must be an object.');var b=this.Ga,c;for(c in a)a.hasOwnProperty(c)&&\"function\"!==typeof a[c]&&(b[c]=a[c]);return this};W.prototype.mergeQuery=W.prototype.v;\nW.prototype.la=function(a){if(!a||\"string\"!==typeof a)throw new C(this.la,0,'Parameter \"subDomain\" must be a non-empty string');\".\"===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.Qk(a+\".\"+this.Qj)};W.prototype.addSubDomain=W.prototype.la;W.prototype.A=function(a){if(!a||\"string\"!==typeof a)throw new C(this.A,0,'Parameter \"subPath\" must be a non-empty string');return this.wc((this.jf?this.jf+\"/\":\"\")+a)};W.prototype.addSubPath=W.prototype.A;\nW.prototype.toString=function(){return[this.oi+\"://\",this.Qj,this.uk?\":\"+this.uk:\"\",this.jf||!Bo(this)||this.Db?\"/\":\"\",this.jf?encodeURI(this.jf):\"\",Co(this),this.Db?\"#\"+encodeURIComponent(this.Db):\"\"].join(\"\")};W.prototype.toString=W.prototype.toString;function Do(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(b){return\"%\"+b.charCodeAt(0).toString(16)})}\nfunction Co(a){var b=[],c=a.Ga,d={},e;for(e in c){if(c.hasOwnProperty(e)&&\"function\"!==typeof c[e]){var f=a.Ga[e];d.Og=Do(e);B(f,Eo)?f.jo.forEach(function(g){return function(h){b.push(g.Og+\"=\"+Do(h))}}(d)):B(f,Fo)?b.push(d.Og+\"=\"+f.jo.map(function(g){return Do(g)}).join(f.Xy)):b.push(void 0===f?d.Og:d.Og+\"=\"+Do(f))}d={Og:d.Og}}return 0<b.length?\"?\"+b.join(\"&\"):\"\"}\nfunction uo(a){var b=jj(\"H-service\",\"1.61.3\",\"14eda3c\",{region:\"row\"});a.Ga.xnlp=\"CL_JSMv3.\"+b.version;return a}function Bo(a){var b,c=0;for(b in a.Ga)if(a.Ga.hasOwnProperty(b)&&\"function\"!==typeof a.Ga[b]&&(c++,0<c))break;return!c}function Go(a,b){if(fb(a))for(var c=0;c<a.length;c++){var d=a[c];if(!gb(d)&&!jb(d)){var e=\"The Array does not contain only strings and numbers\";break}}else e=\"Not an Array\";if(e)throw new C(b,0,a);return a}\nfunction Eo(a){this.jo=Go(a,Eo)}W.MultiValueQueryParameter=Eo;Eo.prototype.TA=function(){return this.jo};Eo.prototype.getValues=Eo.prototype.TA;function Fo(a,b){this.jo=Go(a,Fo);if(!/^[!\\$\\(\\)\\*\\+,;]$/.test(b))throw new C(Fo,1,'Invalid delimiter \"'+b+'\"');this.Xy=b}W.DelimitedQuerySubValues=Fo;function Ho(a,b){B(a,Io,Ho,0);var c={};Object.assign(c,b);c.min=c.min||0;c.max=c.max||20;c.tileSize=c.tileSize||512;c.getURL=function(d,e,f){return a.Sf(d,e,f).clone().v({size:c.tileSize})};ol.call(this,c);this.$=a}u(Ho,ol);t(\"H.service.rasterTile.Provider\",Ho);Ho.prototype.U=function(a,b){var c=this.$;return c.U().query(c.Ci.Rn+\".\"+c.K(),b,a)};Ho.prototype.getCopyrights=Ho.prototype.U;Ho.prototype.Vi=function(){return Ol()};Ho.prototype.td=function(){return Ol()?Nl():Ho.g.td.call(this)};function X(a){a=no({},this.Vy,a);var b=a.apikey||a.apiKey,c=a.baseUrl;if(c=b?c?0:\"baseUrl\":\"apikey\")throw new C(X,0,'\"'+c+'\" must be specified');this.Xw(a.baseUrl);this.ct=b;this.md.v({apikey:b});this.pc=a.headers||{};this.cD=Na(a.servicesConfig||{})}t(\"H.service.Platform\",X);X.prototype.Vy={apikey:null,baseUrl:new W(\"https\",\"hereapi.com\")};X.prototype.Xw=function(a){this.md=uo(a.clone());this.ct=a=this.ct;this.md.v({apikey:a})};X.prototype.setBaseUrl=X.prototype.Xw;X.prototype.Lc=function(){return this.md};\nX.prototype.getBaseUrl=X.prototype.Lc;X.prototype.Ja=function(a,b){try{return a.Hm=!0,new a(no({platformBaseUrl:this.Lc(),headers:this.pc},this.cD[a.CONFIG_KEY]||{},b||{}))}finally{a.Hm=!1}};X.prototype.createService=X.prototype.Ja;\nX.prototype.Yl=function(a,b,c){var d=this;if(!H.map.render.harp)throw Error(\"HARP engine module not found\");if(!ya(a)&&!gb(a))throw new C(this.Yl,0,\"is invalid: must be either a configuration object or a URL\");if(!Za(b))throw new C(this.Yl,1,\"is invalid: must be a Function\");if(!Za(c))throw new C(this.Yl,2,\"is invalid: must be a Function\");var e=new H.map.render.harp.Style(a);e.addEventListener(\"change\",function(){var f=e.getState();if(-1===f)c(Error(\"H.service.platform#createHybridLayers method failed to load style configuration\"));\nelse if(2===f){f={dark:!0};var g=d.Qp({resource:\"background\",queryParams:{style:\"satellite.day\"}}),h=e.Sd(),k={styles:[{technique:\"raster\",attr:{gamma:1,brightness:1}}]};h.definitions&&(void 0!==h.definitions[\"Satellite.Texture.Gamma\"]&&(k.styles[0].attr.gamma=h.definitions[\"Satellite.Texture.Gamma\"]),void 0!==h.definitions[\"Satellite.Texture.Brightness\"]&&(k.styles[0].attr.brightness=h.definitions[\"Satellite.Texture.Brightness\"]));g=new Ho(g,{engineType:hn,style:new H.map.render.harp.Style(k)});\nb({raster:new zj(g,f),vector:d.Lj().od(e,{engineType:hn},f),traffic:d.Tp().od(e,{engineType:hn},f)})}});e.load()};X.prototype.createHybridLayers=X.prototype.Yl;X.prototype.ku=function(a,b){b=b?+b:void 0;if(void 0===b)b=zo;else if(8===b)b=xo;else throw new C(this.ku,1,\"allowed values are 8 or undefined\");return this.Ja(b,a)};X.prototype.getGeofencingService=X.prototype.ku;function Jo(a,b,c){c=c||{};var d=+c.min,e=+c.max;c.min=d?ac(d,1,17):1;c.max=e?ac(e,1,17):17;Jo.g.constructor.call(this,c);B(a,Ko,Jo,0);B(b,vg,Jo,1);this.$=a;b.Yb&&b.Yb(\"OMV\");this.Xa(b,!0);this.Hl=mo(this)}u(Jo,T);t(\"H.service.trafficVectorTile.Provider\",Jo);Jo.prototype.Xc=pe;Jo.prototype.providesOMV=Jo.prototype.Xc;Jo.prototype.cc=function(a){return this.Hl.test(a)};Jo.prototype.cacheFilter=Jo.prototype.cc;Jo.prototype.Vd=function(a,b,c){return this.$.Sf(a,b,c).toString()};\nJo.prototype.getTileKey=Jo.prototype.Vd;Jo.prototype.Sb=function(){return this.wf};Jo.prototype.getCache=Jo.prototype.Sb;Jo.prototype.MAX_STORE_TIME=2592E6;Jo.prototype.Vi=function(){return Ol()};Jo.prototype.td=function(){return Ol()?Nl():Jo.g.td.call(this)};Jo.prototype.o=function(a,b,c,d,e){return this.$.Pa(a,b,c,d,e)};Jo.prototype.requestInternal=Jo.prototype.o;Jo.prototype.Cb=function(a){a.Yb&&a.Yb(\"OMV\");this.Xa(a)};Jo.prototype.setStyle=Jo.prototype.Cb;Jo.prototype.K=function(){return Jo.g.mb.apply(this)};\nJo.prototype.getStyle=Jo.prototype.K;Jo.prototype.wf=new Uj(256);Jo.prototype.U=function(){return null};Jo.prototype.getCopyrights=Jo.prototype.U;function Ko(a){Ko.g.constructor.call(this,Ko,a);this.Aq=(a||te).layer||\"traffic\";this.me=\"mc\";this.qz=\"omv\"}u(Ko,so);t(\"H.service.trafficVectorTile.Service\",Ko);Ko.prototype.Da=function(){return{subDomain:\"traffic.vector\",path:\"v2\"}};Ko.CONFIG_KEY=\"trafficVectorTile\";Ko.prototype.od=function(a,b,c){b=b||{};var d={min:0,max:22};ya(c)&&no(d,c);return new zj(new Jo(this,a,b),d)};Ko.prototype.createLayer=Ko.prototype.od;\nKo.prototype.Pa=function(a,b,c,d,e){return this.o(this.Sf(a,b,c),function(f){return f.arrayBuffer().then(d,e)},e,\"arraybuffer\")};Ko.prototype.Sf=function(a,b,c){return this.i().clone().A(\"traffictiles/\"+this.Aq+\"/\"+this.me+\"/\"+c+\"/\"+a+\"/\"+b+\"/\"+this.qz)};Ko.prototype.rm=function(a){return qn()+\"/\"+a};Ko.prototype.hA=function(){return this.Aq};Ko.prototype.getLayerName=Ko.prototype.hA;X.prototype.Tp=function(a){return this.Ja(Ko,a)};X.prototype.getTrafficVectorTileService=X.prototype.Tp;function Lo(a){Lo.g.constructor.call(this,Lo,a)}u(Lo,so);t(\"H.service.publicTransit.Service\",Lo);Lo.prototype.Da=function(){return{subDomain:\"transit.router\",path:\"v8\"}};Lo.CONFIG_KEY=\"publicTransit\";Lo.prototype.GA=function(a,b,c){a=this.i().clone().A(\"routes\").v(a);return this.o(a,b,c)};Lo.prototype.getRoutes=Lo.prototype.GA;Lo.prototype.Oz=function(a,b,c){a=this.i().clone().A(\"departures\").v(a);return this.o(a,b,c)};Lo.prototype.getDepartures=Lo.prototype.Oz;\nLo.prototype.KA=function(a,b,c){a=this.i().clone().A(\"stations\").v(a);return this.o(a,b,c)};Lo.prototype.getStations=Lo.prototype.KA;Lo.prototype.Jc=function(a){return Error(JSON.stringify(a))};X.prototype.CA=function(a){return this.Ja(Lo,a)};X.prototype.getPublicTransitService=X.prototype.CA;t(\"H.service.extension.customLocation.Permission\",{READ:\"read\",WRITE:\"write\",EXPORT:\"export\"});t(\"H.service.extension.customLocation.Storage\",{READONLY:\"readonly\",UPDATABLE:\"updatable\"});function Mo(a){var b=No;if(!a||!gb(a.layerId)||ab(a.rowFilter)&&!Za(a.rowFilter)||ab(a.rowFilterContext)&&!ya(a.rowFilterContext))throw new C(b,1,ab(\"invalid layer config\")?\"invalid layer config\":a);}function Oo(a){return gb(a)&&/^[A-Z][A-Z0-9_]*$/.test(a)}function Po(a){for(var b=a&&a.length,c=2<=b&&\"WKT\"===a[--b]&&\"GEOMETRY_ID\"===a[--b];c&&b--;)c=Oo(a[b]);return c}\nfunction Qo(a,b){var c=\"\",d=[];if(b){var e=a.geometries;if(e&&e.length){var f=Object.keys(e[0].attributes);c=c+(\"Meta:\\t\"+b+\"\\n\")+f.join(\"\\t\");c+=\"\\tWKT\\n\";for(a=0;a<e.length;a++){var g=e[a].attributes;var h=e[a].geometry;for(b=0;b<f.length;b++)d.push(g[f[b]]);c+=d.join(\"\\t\");c+=\"\\t\"+h+\"\\n\";d=[]}}}else{h={};d=[];if(a.geometries)for(e=0;e<a.geometries.length;e++)b=a.geometries[e],h[b.layerId]||(h[b.layerId]=[]),h[b.layerId].push(b);for(f in h)d.push({layerId:f,geometries:h[f]});for(a=0;a<d.length;a++)c+=\nQo(d[a],d[a].layerId)}return c};function Ro(){}t(\"H.service.extension.dataView.IColumn\",Ro);Ro.prototype.wa=function(){};Ro.prototype.getCell=Ro.prototype.wa;function So(a,b){this.$b=a;this.Nl=b}t(\"H.service.extension.dataView.ObjColumn\",So);So.prototype.wa=function(a){return this.$b.wa(a,this.Nl)};So.prototype.getCell=So.prototype.wa;function To(){}t(\"H.service.extension.dataView.ITable\",To);To.prototype.zh=function(){};To.prototype.getMeta=To.prototype.zh;To.prototype.Ch=function(){};To.prototype.getRowCount=To.prototype.Ch;To.prototype.Ud=function(){};To.prototype.getRow=To.prototype.Ud;To.prototype.ab=function(){};To.prototype.getColumnNames=To.prototype.ab;To.prototype.Fj=function(){};To.prototype.getColumn=To.prototype.Fj;To.prototype.wa=function(){};To.prototype.getCell=To.prototype.wa;To.prototype.concat=function(){};\nTo.prototype.concat=To.prototype.concat;function Uo(){}t(\"H.service.extension.dataView.IRow\",Uo);Uo.prototype.ab=function(){};Uo.prototype.getColumnNames=Uo.prototype.ab;Uo.prototype.wa=function(){};Uo.prototype.getCell=Uo.prototype.wa;Uo.prototype.Rf=function(){};Uo.prototype.getTable=Uo.prototype.Rf;function Vo(a,b){this.$b=a;this.Kk=b}t(\"H.service.extension.dataView.ObjRow\",Vo);Vo.prototype.ab=function(){return this.$b.ab()};Vo.prototype.getColumnNames=Vo.prototype.ab;Vo.prototype.wa=function(a){return this.$b.wa(this.Kk,a)};Vo.prototype.getCell=Vo.prototype.wa;Vo.prototype.Rf=function(){return this.$b};Vo.prototype.getTable=Vo.prototype.Rf;function Wo(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):A);this.Ob=a;if(b)for(this.eh=b,this.To=a=Ua(),d=b.length;d--;)a[b[d]]=!0;c!==A&&(this.Lq=c)}t(\"H.service.extension.dataView.ObjTable\",Wo);m=Wo.prototype;m.Lq=A;m.Ob=A;m.eh=A;m.To=A;m.zh=function(){return this.Lq};Wo.prototype.getMeta=Wo.prototype.zh;Wo.prototype.Ch=function(){return this.Ob?this.Ob.length:0};Wo.prototype.getRowCount=Wo.prototype.Ch;Wo.prototype.Ud=function(a){var b=this.Ob;return b&&b[a]?new Vo(this,a):A};\nWo.prototype.getRow=Wo.prototype.Ud;Wo.prototype.ab=function(){return this.eh||se};Wo.prototype.getColumnNames=Wo.prototype.ab;Wo.prototype.Fj=function(a){return this.To[a]?new So(this,a):A};Wo.prototype.getColumn=Wo.prototype.Fj;Wo.prototype.wa=function(a,b){var c=this.Ob;return(a=c&&this.To[b]&&c[a])&&a[b]};Wo.prototype.getCell=Wo.prototype.wa;\nWo.prototype.concat=function(){var a=arguments.length,b,c=this.eh,d=\"\"+this.eh,e=(this.Ob||[]).slice();for(b=0;b<a;b++){var f=arguments[b];if(!(f instanceof Wo))throw new C(this.concat,b);if(f.Ob){if(c&&\"\"+f.eh!==d)throw new C(this.concat,b,\"Incompatible columns!\");e=e.concat(f.Ob)}}return new Wo(e,this.eh,this.Lq)};Wo.prototype.concat=Wo.prototype.concat;function Xo(a,b,c,d){if(!Za(c))throw new C(a,b,\"has invalid type\");if(!Za(d))throw new C(a,b+1,\"has invalid type\");};function Yo(a,b,c,d){d=d||Zo;this.Fk={};d.provider=a;this.invalidate=qe;Yo.g.constructor.call(this,b,d);delete this.invalidate;c&&(this.KD=c);this.ra(hc.ADD)}u(Yo,Zh);t(\"H.service.remote.Spatial\",Yo);var Zo={};Yo.prototype.xb=function(){return this.KD||Zh.prototype.xb.call(this)};Yo.prototype.getId=Yo.prototype.xb;Yo.prototype.Sn=re;Yo.prototype.retain=Yo.prototype.Sn;Yo.prototype.release=pe;Yo.prototype.release=Yo.prototype.release;function $o(a,b){this.gm=a;b&&(this.labels=b)}var ap=new $o(se);\nYo.prototype.xh=function(a){return(this.Fk[a.key]||ap).gm};Yo.prototype.getGeometriesForTile=Yo.prototype.xh;Yo.prototype.Hp=function(a){return(this.Fk[a.key]||ap).labels};Yo.prototype.getLabels=Yo.prototype.Hp;function bp(a,b,c){a.Fk[b.key]=new $o(c,void 0)};function cp(a,b,c){var d=8===a;this.zi=b;this.Pt=c||re;(this.Mm=4===a||d)?this.Xe=d:this.Xu=1===a;this.cu=this.Mm?\"$HProjGeometry\":\"geometry\"}\ncp.prototype.parse=function(a,b,c){var d,e={},f=[],g,h;var k=0;for(g=c.length;k<g;k++){var l=c[k];var n=l.Rows;if(l=n.length){var p=Object.keys(n[0]).filter(function(v){return\"geometry\"!==v&&\"$HProjGeometry\"!==v});p=new Wo(n,p);for(h=0;h<l;h++){var q=n[h];if(d=q[this.cu]){if(delete q[this.cu],q=p.Ud(h))try{var r=this.Mm?dp(this,a,b,q,d):ep(this,a,q,d.path);r.ea(a);f.push(r)}catch(v){this.Pt(v.message)}}else this.Pt(\"Layer must contain geometries\")}}}e[this.Mm?\"spatials\":this.Xu?\"markers\":\"domMarkers\"]=\nf;return e};function dp(a,b,c,d,e){var f=[],g=e.paths,h=g.length,k=0,l=a.zi&&a.zi(d);for(a=new Yo(b,a.Xe,A,{style:l||a.Wy,data:d});k!==h;){b=f;d=b.push;l=g[k++];for(var n=0,p=l.length,q=[];n<p;)q.push(new M(l[n++],l[n++]));d.call(b,q)}bp(a,c,[new Wh(f,e.interiorsIndex,e.outlinesIndex)]);return a}function ep(a,b,c,d){d=new Me(d[0],d[1]);var e=a.zi&&a.zi(c);a.Xu?(a={icon:e,data:c,provider:b},a=new Vi(d,a)):(a={icon:e,data:c,provider:b},a=new Jh(d,a));return a};function fp(a,b){var c={};this.xC=a;Qa(c,b||c);Kk.call(this,c);this.Jn={};a=this.Nc(Ce.SPATIAL);a.update(a.Md+1,hc.ADD)}u(fp,Kk);t(\"H.service.remote.ObjectProvider\",fp);fp.prototype.l=function(){Kk.prototype.l.call(this)};fp.prototype.dispose=fp.prototype.l;fp.prototype.qe=function(){return se};fp.prototype.requestMarkers=fp.prototype.qe;fp.prototype.pe=function(){return se};fp.prototype.requestDomMarkers=fp.prototype.pe;fp.prototype.xg=function(){return se};fp.prototype.requestOverlays=fp.prototype.xg;\nfp.prototype.Wc=pe;fp.prototype.providesMarkers=fp.prototype.Wc;fp.prototype.Vc=pe;fp.prototype.providesDomMarkers=fp.prototype.Vc;fp.prototype.ne=pe;fp.prototype.providesSpatials=fp.prototype.ne;fp.prototype.Nn=function(){return se};fp.prototype.requestSpatials=fp.prototype.Nn;function gp(a){return a.Wd(!0)}fp.prototype.On=function(a,b){a=hp(this,a,ip);b&&(a=a.filter(gp));return a};fp.prototype.requestSpatialsByTile=fp.prototype.On;\nfunction hp(a,b,c){var d=b.Ji&&b.Ji[c],e;!d&&(e=b.ul)&&(delete b.ul,(b.Ji=a=a.xC.parse(a,b,e))&&(d=a[c]));return d||se}fp.prototype.Y=function(a){var b=a.xb();if(this.Jn[b])throw new wb(this.Y,\"Remote object \"+b+\" already added\");return this.Jn[b]=a};fp.prototype.Oa=function(a){delete this.Jn[a.xb()]};var ip=\"spatials\";function jp(a){a=a||{};var b=a.tileCacheSize||1024,c=a.resultType,d=a.styleCallback;ab(a.min)||(a.min=12);jp.g.constructor.call(this,a);if(-1===kp.indexOf(c))throw new C(jp,2,\"invalid resultType\");this.resultType=c;if(d&&!Za(d))throw new C(jp,2,\"invalid style callback\");this.zi=d;this.oa=a.pixelRatio||de();this.Ic=z(this.Ic,this);this.Yn(new Uj(b,z(this.ke,this)));this.createTileInternal=4===c||8===c?z(this.Ny,this):z(this.Ly,this)}u(jp,T);t(\"H.service.extension.TileProvider\",jp);\njp.prototype.rq=!1;jp.prototype.getCapabilities=function(){return jp.g.getCapabilities.call(this)|qi.CROP_LINES_BY_TILE|qi.CROP_POLYGONS_BY_TILE};jp.prototype.Pa=function(a,b,c,d){return this.rq?jp.g.Pa.call(this,a,b,c,d):A};jp.prototype.requestTile=jp.prototype.Pa;jp.prototype.Ic=function(a){this.dispatchEvent(new jd(\"error\",gb(a)?a:a+\"\",this))};jp.prototype.Wc=function(){return 1===this.resultType};jp.prototype.providesMarkers=jp.prototype.Wc;jp.prototype.Vc=function(){return 2===this.resultType};\njp.prototype.providesDomMarkers=jp.prototype.Vc;jp.prototype.ne=function(){return 4===this.resultType||8===this.resultType};jp.prototype.providesSpatials=jp.prototype.ne;function lp(a){var b=a.Bd;b||(a.hw||(a.hw=a.qu(a.resultType,a.zi,a.Ic)),b=a.Bd=new fp(a.hw),b.ea(a),b.addEventListener(a.j.Aa,z(a.he,a)),b.Aw=!0);return b}\njp.prototype.Ly=function(a,b,c,d){var e=this.getTileKey(a,b,c);e=this.Sb().get(e);var f=2==this.resultType,g=[],h=lp(this);e?e.valid=!0:(a=e=new Fj(a,b,c,x),delete a.Ji,a.ul=d);d=f?hp(h,e,\"domMarkers\"):hp(h,e,\"markers\");for(b=d.length;b--;)a=d[b],a.ys=e,(f||1===a.kc().getState())&&g.push(a);e.data=g;return e};jp.prototype.he=function(a){if(a=a.target.ys)a.valid=!1};jp.prototype.iD=function(a){this.Lw=!!a};jp.prototype.setTileCanvasRendering=jp.prototype.iD;jp.prototype.Lw=!0;\njp.prototype.Ny=function(a,b,c,d){var e=lp(this),f=this.getTileKey(a,b,c),g=this.tileSize,h=this.Sb().get(f);h||(a=h=new Gj(f,a,b,c,g,this.oa,c,e),delete a.Ji,a.ul=d);this.Lw?(d=ro.pop(g),h.L(d)||ro.push(d,g)):Mj(h);return h};jp.prototype.ke=function(a,b){var c;if(4===this.resultType||8===this.resultType){a=b.bb();for(c=a.length;c--;)delete a[c].Fk[b.key];if(a=b.Hn())ro.push(a,this.tileSize),b.In()}else for(a=b.data,c=a.length;c--;)delete a[c].ys};\njp.prototype.disposeInternal=function(){jp.g.disposeInternal.call(this);lp(this).l()};var mp={MARKER:1,DOM_MARKER:2,POLYLINE:4,POLYGON:8};jp.ResultType=mp;var kp=[1,2,4,8];function No(a,b,c){var d=this,e=b&&b.rowFilter,f;No.g.constructor.call(this,c);B(a,np,No,0);var g=c.resultType;Mo(b);if(e){var h=Na(b);h.rowFilter=e.toString()}else h=b;(new dj).registerProcessor(\"cle\",\"H.service.extension.worker.processor\");var k=b.layerId;a.request(op,pp,{detail_level:\"all\",layer_id:k},function(l){l=l.layers;var n;for(n=0;n<l.length;n++)if(l[n].layerId===k){h.level=l[n].level;break}f=a.i().clone().A(qp+\".\"+pp).v({meta:1});(new fj(\"cle\",{message:[d.uid,0,{tileSize:d.tileSize,\nprojected:!0,onlyOutline:4===g,serverUrl:f.toString(),layerConfigs:[h],batchTiles:!1,horizontalMargin:1}]})).then(function(){d.rq=!0;d.jb()},d.Ic)},function(l){d.Ic(l.message)})}u(No,jp);t(\"H.service.extension.customLocation.TileProvider\",No);No.prototype.qu=function(a,b,c){return new cp(a,b,c)};\nNo.prototype.o=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h;g=this.Sb().get(g);var k={cancel:re},l=!0,n=this.resultType;g&&(4===n||8===n?g.Ih()||(d(ro.pop(this.tileSize),null),l=!1):(d(x),l=!1));if(l){var p=globalThis.setTimeout(function(){h=new fj(\"cle\",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500);k.cancel=function(){h?h.cancel():globalThis.clearTimeout(p)}}return k};No.prototype.requestInternal=No.prototype.o;\nNo.prototype.disposeInternal=function(){No.g.disposeInternal.call(this);new fj(\"cle\",{message:[this.uid,3]})};function rp(){if(sp)throw new wb(rp);}t(\"H.service.extension.customLocation.Table\",rp);var sp=!0;function tp(a,b){var c;sp=!1;var d=new rp;sp=!0;d.Ym=Xa(globalThis.JSON.parse(globalThis.JSON.stringify(a)));a=a.columnNames;var e=Ua();for(c=a.length;c--;)e[a[c]]=c;d.So=e;d.Hc=a.length;if(b){if(b.length%a.length)throw new C(tp,1,\"Invalid number of cells\");}else b=[];d.tb=b;return d}rp.prototype.zh=function(){return this.Ym};rp.prototype.getMeta=rp.prototype.zh;\nrp.prototype.Ch=function(){return this.tb.length/this.Hc};rp.prototype.getRowCount=rp.prototype.Ch;rp.prototype.Ud=function(a){return a<this.tb.length/this.Hc?new vp(this,a):A};rp.prototype.getRow=rp.prototype.Ud;rp.prototype.HA=function(){var a=this.tb.length/this.Hc,b,c=new globalThis.Array(a);for(b=0;b<a;b++)c[b]=new vp(this,b);return c};rp.prototype.getRows=rp.prototype.HA;\nrp.prototype.zo=function(a){var b=this.Hc,c=this.tb,d=c.length/this.Hc;if(!a||a.length%b)throw new C(this.zo,0,\"Invalid number of cells\");this.tb=c.concat(a);return d};rp.prototype.addCells=rp.prototype.zo;rp.prototype.qy=function(){for(var a=this.Hc,b=this.tb,c=this.tb.length/this.Hc;a--;)b.push(x);return this.Ud(c)};rp.prototype.addRow=rp.prototype.qy;rp.prototype.ab=function(){return this.Ym.columnNames};rp.prototype.getColumnNames=rp.prototype.ab;\nrp.prototype.Fj=function(a){return this.So[a]===A?A:new wp(this,a)};rp.prototype.getColumn=rp.prototype.Fj;rp.prototype.wa=function(a,b){return this.tb[a*this.Hc+this.So[b]]};rp.prototype.getCell=rp.prototype.wa;rp.prototype.ue=function(a,b,c){b=this.So[b];if(a>=this.tb.length/this.Hc)throw new C(this.ue,0,\"Row index out of bounds\");if(b===A)throw new C(this.ue,0,\"Column unknown\");this.tb[a*this.Hc+b]=c};rp.prototype.setCell=rp.prototype.ue;\nrp.prototype.concat=function(a){var b=arguments.length,c,d=\"\"+this.ab(),e=this.tb?this.tb.slice():[];for(c=0;c<b;c++){var f=arguments[c];if(!(f instanceof rp))throw new C(this.concat,c);if(\"\"+f.ab()!==d)throw new C(this.concat,c,\"Incompatible columns!\");f.tb&&(e=e.concat(f.tb))}return tp(this.Ym,e)};rp.prototype.concat=rp.prototype.concat;var xp=/(\\n|\\t|\\r|\")/;\nrp.prototype.os=function(a,b){var c,d=this.Hc,e=this.ab(),f=[],g=[],h=this.tb,k=-1;for(c=0;c<d;c++)if(!a||a.test(e[c]))\"WKT\"===e[c]&&(k=f.length),f.push(c);if(!(a=f.length))throw new C(this.os,1,\"No columns filtered\");yp(this,g,e,0,d,f,a,k);if(b){var l=b.length;for(c=0;c<l;c++)g.push(\"\\n\"),e=b[c],yp(this,g,h,e,d,f,a,k)}else for(l=this.Ch(),e=0;e<l;e++)g.push(\"\\n\"),yp(this,g,h,e,d,f,a,k);return g.join(\"\")};\nfunction yp(a,b,c,d,e,f,g,h){var k;for(k=0;k<g;k++){k&&b.push(\"\\t\");var l=c[d*e+f[k]];if(k!==h){if(l!==x){l=String(l);if(xp.test(l))throw new C(a.os,0,'Invalid character (\\\\n, \\\\r, \\\\t, or \") in row '+d+\" column \"+a.Ym.columnNames[f[k]]);b.push(l)}}else b.push(l)}}function wp(a,b){this.$b=a;this.Nl=b}rp.Column=wp;wp.prototype.wa=function(a){return this.$b.wa(a,this.Nl)};wp.prototype.getCell=wp.prototype.wa;wp.prototype.ue=function(a,b){this.$b.ue(a,this.Nl,b)};wp.prototype.setCell=wp.prototype.ue;\nfunction vp(a,b){this.$b=a;this.Kk=b}rp.Row=vp;vp.prototype.ab=function(){return this.$b.ab()};vp.prototype.getColumnNames=vp.prototype.ab;vp.prototype.wa=function(a){return this.$b.wa(this.Kk,a)};vp.prototype.getCell=vp.prototype.wa;vp.prototype.ue=function(a,b){this.$b.ue(this.Kk,a,b)};vp.prototype.setCell=vp.prototype.ue;vp.prototype.Rf=function(){return this.$b};vp.prototype.getTable=vp.prototype.Rf;function zp(a){this.Ey=a}zp.prototype.cancel=function(){for(var a=this.Ey,b=a.length;b--;)a[b].cancel();a.length=0};zp.prototype.cancel=zp.prototype.cancel;function Ap(a){if(a===A)a=\"\\t\";else if(!/^[^\"\\r\\n]$/.test(a))throw new C(Ap,0);this.ey=String(a).charCodeAt(0);this.xd=z(this.xd,this);this.s=Bp}var Bp=0;m=Ap.prototype;m.getState=function(){return this.s};function Cp(a,b,c){var d=a.s;if(d!==b)throw 1===d&&(a.s=Bp),new wb(c,\"Requires state: \"+[\"READY\",\"PARSE\",\"PAUSE\"][b]+\" but found \"+[\"READY\",\"PARSE\",\"PAUSE\"][d]);}m.abort=function(){Cp(this,2,Ap.prototype.abort);this.s=Bp};\nm.xd=function(a){this.s=Bp;throw new C(Ap.prototype.parse,0,\"Malformed DSV at row \"+this.ed.Gr+\" column \"+this.ed.fj+\": \"+a);};function Dp(a,b){var c=[];a.parse(b,function(d,e,f){1>d&&(c[e]=f);return 0<d});a.s=Bp;return c}m.parse=function(a,b,c){Cp(this,Bp,Ap.prototype.parse);a=a.trim();this.ed=new Ep(a,this.ey,this.xd);this.dC=b;this.Jv=c||qe;this.s=2;this.resume()};m.Jv=qe;\nm.resume=function(){var a=this.ed,b=[];Cp(this,2,Ap.prototype.resume);this.s=1;do{if(!a.cq){this.s=Bp;break}if(e>a.fj){if(void 0!==c&&c!==e){this.ed.xd(\"The number of columns must be the same for all rows\");return}var c=e}var d=a.Gr;var e=a.fj;var f=a.Ol;var g=this.Jv(d,e,a);if(a.Ol>f)for(;-1!==a.next(););else{for(;-1!==(f=a.next());)b.push(f);g=String.fromCharCode.apply(x,b);b.length=0}Fp(a);this.dC(d,e,g)&&(this.s=a.cq?2:Bp)}while(1===this.s);2!=this.s&&void 0!==c&&0<e&&c!==e&&this.ed.xd(\"The number of columns must be the same for all rows\")};\nfunction Ep(a,b,c){this.ed=new ch(a);this.Is=b;this.cq=!0;this.Ol=this.Gr=this.fj=0;Fp(this);this.xd=c;this.Ec=[];this.Yf=!1}m=Ep.prototype;m.Ol=0;function Fp(a){var b=a.ed.eb();a.Yt=!1;(a.mB=34===b)&&a.ed.next()}function Gp(a,b){var c=a.ed;a.Yt=!0;switch(b){case a.Is:a.fj++;break;case 13:c.next(),10!==c.eb()&&a.xd(\"CR without LF\");case 10:a.fj=0;a.Gr++;break;case -1:a.cq=!1;break;default:a.xd(\"End of field expected\")}c.next();return-1}\nm.eb=function(){if(this.Yt)var a=-1;else{var b=this.ed;a=b.eb();if(this.mB)switch(a){case 34:b.next();a=b.eb();34!==a&&(a=Gp(this,a));break;case -1:this.xd(\"Closing quotation mark expected\")}else switch(a){case 34:this.xd(\"Unexpected quotation mark\");case this.Is:case 13:case 10:case -1:a=Gp(this,a)}}return a};m.yi=function(){this.Yf=!0;this.Ec=[]};m.mh=function(){var a=this.Ec.slice();this.Yf=!1;this.Ec=[];return a};\nm.next=function(){var a=this.eb();-1!==a&&this.ed.next();this.Yf&&this.Ec.push(a);this.Ol++;return a};function Hp(a,b,c,d){d=d||{};if(!b)throw new C(Hp,1,\"has to be a function\");if(!c)throw new C(Hp,2,\"has to be a function\");this.mn=b;this.dn=c;this.bh=[];this.pc={};this.xq=[];this.lh={};this.fs={};this.ls={};this.sx={};this.rj=d.duration||100;this.Gm=z(this.Gm,this);a=a.split(\"Meta:\\t\").slice(1);for(b=0;b<a.length;b++){d=a[b].split(\"\\n\");c=d[0].split(\"\\t\")[0];d=d.slice(1).join(\"\\n\");this.lh[c]=new Ap;this.pc[c]=Dp(this.lh[c],d);var e={layerId:c,columnNames:this.pc[c]};this.xq.push(c);this.sx[c]=\ntp(e);this.fs[c]=bk();Ip(this,d,c);this.Gm(c)}}function Ip(a,b,c){var d=[],e=a.pc[c].length-1,f=a.sx[c];try{a.lh[c].parse(b,function(g,h,k){var l=!1;0<g&&(d[h]=k,h===e&&(a.bh.push(f.Ud(f.zo(d))),bk()-a.fs[c]>a.rj&&(l=!0)));return l},function(g,h,k){if(0<g&&h===e)return jh(k)})}catch(g){a.dn(g)}}Hp.prototype.cancel=function(){for(var a in this.ls)globalThis.clearTimeout(this.ls[a])};Hp.prototype.cancel=Hp.prototype.cancel;\nHp.prototype.Gm=function(a){var b=this,c,d;this.ls[a]=globalThis.setTimeout(function(){if(2===b.lh[a].getState())b.fs[a]=bk(),b.mn(b.bh,!1),b.bh=[],b.lh[a].resume(),b.Gm(a);else{c=!0;for(d=0;d<b.xq.length;d++)if(b.lh[b.xq[d]].getState()!==Bp){c=!1;break}c&&(0<b.bh.length&&b.mn(b.bh,!0),b.bh=[])}},0)};function np(a){np.g.constructor.call(this,np,a);oo(np)}u(np,so);t(\"H.service.extension.customLocation.Service\",np);np.prototype.Da=function(){return{subDomain:\"fleet.ls\",path:\"2\"}};np.CONFIG_KEY=\"customLocation\";np.prototype.Pd=function(a,b){var c=b&&b.resultType;a=new No(this,a,b);return 1===c||2===c?new Pi(a):new zj(a)};np.prototype.createTileLayer=np.prototype.Pd;\nfunction Jp(a,b,c,d){a=a===Kp?\"changes\":\"file\";var e=b[a];var f=gb(e),g=!f&&B(e,Blob);if(!f&&!g)throw new C(d,0,\"Invalid \"+a+\" parameter\");if(Lp)e=g?e:ze(e,\"text/plain\"),d=new globalThis.FormData,d.append(a,e,e.name||a+\".wkt\"),c.method=\"POST\",c.data=d,delete b[a];else if(g)throw new C(d,0,\"Sending Blob data is not supported by the browser\");}var Lp=globalThis.FormData&&!!globalThis.FormData.prototype.append;np.prototype.request=function(a,b,c,d,e){return this.I(a,b,c,d,e)};np.prototype.request=np.prototype.request;\nnp.prototype.I=function(a,b,c,d,e){var f=\"text/plain\",g=a===Mp.LAYERS_UPLOAD||a===Mp.LAYERS_MODIFY||a===Mp.LAYERS_IMPORT,h=c,k={data:A,method:\"GET\",headers:this.pc};if(!a)throw new C(this.request,0,a);if(!b)throw new C(this.request,1,b);Xo(this.request,3,d,e);g&&(B(c,Object,this.request,2,\"Invalid request parameters\"),h=Na(c),Jp(a,h,k,this.request));var l=this.i().clone().A(a+\".\"+b).v(h);b===Np.JSON&&(f=\"application/json\");a=new gg(f,l.toString(),Xd,k);a.then(function(n){var p=n.issues;p&&n.error_id&&\nn.response_code?e(Error(p[0].message)):d(n)},function(n){\"error\"===n.type||404===n.status?e(Error(n.statusText||\"Unable to load data\")):n.json().then(function(p){e(Error(\"[\"+p.issues[0].message+\"] \"+l+\" request failed\"))},function(){e(Error(\"[\"+n.statusText+\"] \"+l+\" request failed\"))})});return a};\nvar op=\"layers/list\",Kp=\"layers/modify\",qp=\"tiled/tile\",Mp={LAYERS_DELETE:\"layers/delete\",LAYERS_GRANT:\"layers/access/grant\",LAYERS_LIST:op,LAYERS_MODIFY:Kp,LAYERS_UPLOAD:\"layers/upload\",LAYERS_IMPORT:\"layers/import\",SEARCH_ALL:\"search/all\",SEARCH_BBOX:\"search/bbox\",SEARCH_CORRIDOR:\"search/corridor\",SEARCH_PROXIMITY:\"search/proximity\",SEARCH_QUADKEY:\"search/quadkey\",SEARCH_TILE:qp};np.EntryPoint=Mp;var pp=\"json\",Np={TXT:\"txt\",JSON:pp};np.EntryPointType=Np;\nnp.prototype.Tb=function(a,b,c){var d=this;return this.request(\"search/all\",\"txt\",{filter:'WKT==\"\"',layer_id:a},function(e){var f=String(e).replace(/[\\r\\n]+$/g,\"\").split(\"\\t\");d.request(op,pp,{layer_id:a,detail_level:\"all\"},function(g){g=g.layers[0];g.columnNames=f;b(tp(g))},c)},c)};np.prototype.getLayer=np.prototype.Tb;\nnp.prototype.Au=function(a,b,c,d){function e(){return++g<f?h.request(\"layers/access/grant\",pp,{layer_id:a,granted_app_id:b[g].grantedAppId,permissions:b[g].permissions.join(\",\")},e,d):h.Tb(a,c,d)}var f=b&&b.length,g=-1,h=this;return e()};np.prototype.grantAccess=np.prototype.Au;np.prototype.Dt=function(a,b,c){return this.request(\"layers/delete\",pp,{layer_ids:a},b,c)};np.prototype.deleteLayer=np.prototype.Dt;\nnp.prototype.od=function(a,b,c){function d(){setTimeout(function(){k.Tb(g,function(q){setTimeout(e.bind(null,q),n)},function(){64E3>l?(l+=n,d()):c(globalThis.Error(\"Timeout\"))})},n);n*=2}function e(q){var r=JSON.stringify(q.ab()),v=a.grants;if(r!==JSON.stringify(h)){var w=\"Results into different column names on the backend: \"+r;setTimeout(function(){k.Dt(g,function(){c(globalThis.Error(w))},function(y){c(globalThis.Error(w+\". \"+y.message))})},n)}else v&&v.length?k.Au(g,v,b,c):b(q)}var f,g,h,k=this,\nl=0,n=1E3;var p=!a||!Oo(g=a.layerId)&&(f=\"layerId\")||!Po(h=a.columnNames)&&(f=\"columnNames\")?0:Za(b)?Za(c)?-1:2:1;if(0<=p)throw new C(k.od,p,f||arguments[p]);return k.Tb(g,function(){c(globalThis.Error(\"Layer exists already\"))},function(){var q={layer_id:g,file:h.join(\"\\t\")},r=a.level,v=a.storage;r!==A&&(q.level=r);v!==A&&(q.storage=v);k.request(\"layers/upload\",pp,q,d,c)})};np.prototype.createLayer=np.prototype.od;\nnp.prototype.Cg=function(a,b,c,d){var e=[],f;a=this.request(a,pp,b,function(g){g.geometries.length?(g=Qo(g,b.layer_id),f=new Hp(g,c,d),e.push(f)):c(se,!0)},d);e.push(a);return new zp(e)};np.prototype.Zc=function(a,b,c,d,e,f){if(!fb(a))throw new C(this.Zc,0,\"has invalid type\");B(b,Me,this.Zc,1,\"has invalid type\");if(!jb(c))throw new C(this.Zc,2,\"has invalid type\");Xo(this.Zc,3,d,e);a={layer_ids:a.join(\",\"),proximity:b.lat+\",\"+b.lng+\",\"+c};f&&Qa(a,f);return this.Cg(\"search/proximity\",a,d,e)};\nnp.prototype.searchByProximity=np.prototype.Zc;np.prototype.Yc=function(a,b,c,d,e,f){var g=\"\";if(!fb(a))throw new C(this.Yc,0,\"has invalid type\");if(!gb(b)&&!B(b,L))throw new C(this.Yc,1,\"has invalid type\");if(!jb(c))throw new C(this.Yc,2,\"has invalid type\");Xo(this.Yc,3,d,e);a={layer_ids:a.join(\",\"),radius:c};if(gb(b))a.route_id=b;else{var h=b.S;b=0;for(c=h.length;b<c;b+=3)g+=h[b]+\",\"+h[b+1],b<c-3&&(g+=\",\");a.corridor=g}f&&Qa(a,f);return this.Cg(\"search/corridor\",a,d,e)};\nnp.prototype.searchByCorridor=np.prototype.Yc;np.prototype.se=function(a,b,c,d,e){function f(k,l){l&&h--;c(k,!h)}var g=[],h;if(!fb(a))throw new C(this.se,0,\"has invalid type\");B(b,K,this.se,1,\"has invalid type\");Xo(this.se,2,c,d);b={bbox:b.fa+\",\"+b.W+\";\"+b.ga+\",\"+b.ca};e&&Qa(b,e);a=b.layer_id?[b.layer_id]:a;e=0;for(h=a.length;e<h;e++)b.layer_id=a[e],g.push(this.Cg(\"search/bbox\",b,f,d));return new zp(g)};np.prototype.searchByBoundingBox=np.prototype.se;\nnp.prototype.Lr=function(a,b,c,d){var e,f=[];if(!gb(a))throw new C(this.Lr,0,\"has invalid type\");Xo(this.Lr,1,b,c);var g={layer_id:a};d&&Qa(g,d);d=this.request(\"search/all\",pp,g,function(h){h.geometries.length?(h=Qo(h,a),e=new Hp(h,b,c),f.push(e)):b(se,!0)},c);f.push(d);return new zp(f)};np.prototype.searchAll=np.prototype.Lr;var Op={\"delete\":/^GEOMETRY_ID$/,append:/^(?!GEOMETRY_ID$)/};\nfunction Pp(a,b,c,d,e,f){function g(){v++;d(this,v===q)}function h(O){v++;e(O,this,v===q)}var k=\"append\"!==b,l,n={},p=Ua(),q=0,r=[],v=0;if(!fb(c))throw new C(f,0,c);Xo(f,1,d,e);for(l=c.length;l--;){var w=c[l];if(B(w,vp)){var y=w.Rf().zh().layerId;var D=w.wa(\"GEOMETRY_ID\");if(k){if(D===x||\"\"===String(D))var G='GEOMETRY_ID must not be null or \"\"';n[D=y+\"_\"+D]&&(G=\"same GEOMETRY_ID for multiple rows\");n[D]=w}else D!==x&&\"\"!==String(D)&&(G='GEOMETRY_ID must be null or \"\"')}else G=\"Invalid type\";if(G)throw new C(f,\n0,\"- Invalid row at index \"+l+\", \"+G);D=p[y];D||(D=p[y]=[],q++);D.push(w)}for(y in p){D=p[y];c=[];for(l=D.length;l--;)c.push(D[l].Kk);r.push(a.request(Kp,pp,{layer_id:y,action:b,changes:D[0].Rf().os(Op[b]||null,c)},z(g,D),z(h,D)))}return new zp(r)}np.prototype.dt=function(a,b,c){return Pp(this,\"append\",a,b,c,this.dt)};np.prototype.appendRows=np.prototype.dt;np.prototype.Mx=function(a,b,c){return Pp(this,\"update\",a,b,c,this.Mx)};np.prototype.updateRows=np.prototype.Mx;\nnp.prototype.Et=function(a,b,c){return Pp(this,\"delete\",a,b,c,this.Et)};np.prototype.deleteRows=np.prototype.Et;X.prototype.Mz=function(a){return this.Ja(np,a)};X.prototype.getCustomLocationService=X.prototype.Mz;function Qp(a){oo(Qp,\"Use HERE Geocoding and Search API v7 instead.\");Qp.g.constructor.call(this,Qp,a)}u(Qp,so);t(\"H.service.PlacesService\",Qp);Qp.prototype.Da=function(){return{subDomain:\"places.ls\",path:\"places/v1\"}};Qp.CONFIG_KEY=\"places\";Qp.EntryPoint={SEARCH:\"discover/search\",SUGGEST:\"suggest\",EXPLORE:\"discover/explore\",AROUND:\"discover/around\",HERE:\"discover/here\",CATEGORIES:\"categories/places\"};Qp.prototype.request=function(a,b,c,d){return this.I(a,b,c,d)};Qp.prototype.request=Qp.prototype.request;\nQp.prototype.I=function(a,b,c,d){a=this.i().clone().A(a).v(b||{});return this.o(a,c,d)};Qp.prototype.search=function(a,b,c){return this.I(\"discover/search\",a,b,c)};Qp.prototype.search=Qp.prototype.search;Qp.prototype.xD=function(a,b,c){return this.I(\"suggest\",a,b,c)};Qp.prototype.suggest=Qp.prototype.xD;Qp.prototype.kz=function(a,b,c){return this.I(\"discover/explore\",a,b,c)};Qp.prototype.explore=Qp.prototype.kz;Qp.prototype.ty=function(a,b,c){return this.I(\"discover/around\",a,b,c)};\nQp.prototype.around=Qp.prototype.ty;Qp.prototype.bB=function(a,b,c){return this.I(\"discover/here\",a,b,c)};Qp.prototype.here=Qp.prototype.bB;Qp.prototype.Fy=function(a,b,c){return this.I(\"categories/places\",a,b,c)};Qp.prototype.categories=Qp.prototype.Fy;Qp.prototype.oz=function(a,b,c,d){a=Ao(a).v(this.i().getQuery()).v(d||{});return this.o(a,b,c)};Qp.prototype.follow=Qp.prototype.oz;X.prototype.vA=function(a){return this.Ja(Qp,a)};X.prototype.getPlacesService=X.prototype.vA;function Rp(a){Qp.g.constructor.call(this,Rp,a);oo(Rp)}u(Rp,so);t(\"H.service.extension.customRoute.Service\",Rp);Rp.prototype.Da=function(){return{subDomain:\"s.fleet.ls\",path:\"2\"}};Rp.CONFIG_KEY=\"customRoute\";Rp.prototype.Jc=function(a){return Error(a.issues&&a.issues.length?a.issues.map(function(b){return b.message}).join(\". \"):a)};Rp.prototype.Xg=function(a,b,c){Xo(this.Xg,1,b,c);a=this.i().clone().A(\"calculateroute.json\").v(a);return this.o(a,b,c)};Rp.prototype.calculateRoute=Rp.prototype.Xg;\nX.prototype.Nz=function(a){return this.Ja(Rp,a)};X.prototype.getCustomRoutingService=X.prototype.Nz;function Sp(a){var b=Tp;if(!a||!gb(ke(a.layerId,a.layer))||!jb(a.level)||ab(a.rowFilter)&&!Za(a.rowFilter)||ab(a.rowFilterContext)&&!ya(a.rowFilterContext))throw new C(b,1,ab(\"invalid layer config\")?\"invalid layer config\":a);};function Tp(a,b,c){var d=this,e=b&&b.rowFilter,f=c.resultType;Tp.g.constructor.call(this,c);B(a,Up,Tp,0);Sp(b);e?(c=Na(b),c.rowFilter=e.toString()):c=Na(b);delete c.layer;c.layerId=ke(b.layerId,b.layer);(new dj).registerProcessor(\"pde\",\"H.service.extension.worker.processor\");a=a.i().clone().A(Vp+\".\"+Wp).v({meta:1});(new fj(\"pde\",{message:[this.uid,0,{tileSize:this.tileSize,projected:!0,onlyOutline:4===f,serverUrl:a.toString(),layerConfigs:[c],horizontalMargin:1}]})).then(function(){d.rq=!0;d.jb()},\nthis.Ic)}u(Tp,jp);t(\"H.service.extension.platformData.TileProvider\",Tp);Tp.prototype.qu=function(a,b,c){a=new cp(a,b,c);a.Wy=Xp;return a};var Xp=new P({strokeColor:\"transparent\",fillColor:\"transparent\",lineWidth:0,lineJoin:\"round\",lineCap:\"round\"});\nTp.prototype.o=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h;g=this.Sb().get(g);var k={cancel:re},l=!0,n=this.resultType;g&&(4===n||8===n?g.Ih()||(d(ro.pop(this.tileSize),null),l=!1):(d(x),l=!1));if(l){var p=globalThis.setTimeout(function(){h=new fj(\"pde\",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500);k.cancel=function(){h?h.cancel():globalThis.clearTimeout(p)}}return k};Tp.prototype.requestInternal=Tp.prototype.o;\nTp.prototype.disposeInternal=function(){Tp.g.disposeInternal.call(this);new fj(\"pde\",{message:[this.uid,3]})};Tp.ResultType=mp;function Yp(a,b,c,d,e,f){Xo(Yp,1,b,c);Xo(Yp,2,d,e);(this.Tn=a.length)?(this.Ob=a,this.mn=b,this.dn=c,this.kk=0,this.vn=z(this.vn,this),this.Oy=d,this.My=e,this.Yh=Ua(),Qa(this.Yh,Zp,f||{}),this.ks={},globalThis.setTimeout(this.vn,0)):b(se,!0)}var Zp={duration:100,yz:\"geometry\",xz:\"WKT\",bD:\"searchAttributes\",At:A};\nYp.prototype.vn=function(){var a=[];var b=!1;for(var c=bk(),d;this.kk<this.Tn;){var e=this.Ob[this.kk];b=e.attributes;d=e.layerId||this.Yh.At;e.distance&&(b[this.Yh.bD]={nearest:new Me(e.nearestLat,e.nearestLon),distance:e.distance});if(e=e[this.Yh.yz]){try{var f=jh(new ch(e))}catch(g){this.dn(new globalThis.Error(g.message));b=!0;break}b[this.Yh.xz]=f}(e=this.ks[d])||(e=this.ks[d]=this.Oy({layerId:d,columnNames:Object.keys(b)}));b=this.My(e,b);a.push(b);this.kk++;if((b=this.kk===this.Tn)||bk()-c>=\nthis.Yh.duration){this.mn(a,b);break}}b?this.ks={}:this.kl=globalThis.setTimeout(this.vn,0)};Yp.prototype.cancel=function(){globalThis.clearTimeout(this.kl);this.kk<this.Tn&&this.dn(new globalThis.Error(\"parsing canceled\"))};Yp.prototype.cancel=Yp.prototype.cancel;function Up(a){Up.g.constructor.call(this,Up,a);oo(Up)}u(Up,so);t(\"H.service.extension.platformData.Service\",Up);Up.prototype.Da=function(){return{subDomain:\"s.fleet.ls\",path:\"1\"}};Up.CONFIG_KEY=\"platformData\";Up.prototype.request=function(a,b,c,d,e){return this.I(a,b,c,d,e)};Up.prototype.request=Up.prototype.request;\nUp.prototype.I=function(a,b,c,d,e){var f=\"text/plain\";if(!a)throw new C(this.request,0,a);if(!b)throw new C(this.request,1,b);if(!d)throw new C(this.request,3,d);if(!e)throw new C(this.request,4,e);a=this.i().clone().A(a+\".\"+b).v(c);b===$p.JSON&&(f=\"application/json\");return this.o(a,d,e,f)};var Vp=\"tiles\";\nUp.EntryPoint={DOC_ATTRIBUTES:\"doc/attributes\",DOC_LAYER:\"doc/layer\",DOC_LAYERS:\"doc/layers\",DOC_MAPS:\"doc/maps\",DOC_INDEXES:\"doc/indexes\",SEARCH_BBOX:\"search/bbox\",SEARCH_CORRIDOR:\"search/corridor\",SEARCH_PROXIMITY:\"search/proximity\",SEARCH_QUADKEY:\"search/quadkey\",SERVICE_CONFIGURATION:\"serviceconfiguration\",STATIC:\"static\",TILE:\"tile\",TILES:Vp,FILE:\"file\",INDEX:\"index\"};var Wp=\"json\",$p={TXT:\"txt\",JSON:Wp,HTML:\"html\",BIN:\"bin\"};Up.EntryPointType=$p;\nUp.prototype.Pd=function(a,b){var c=b&&b.resultType;a=new Tp(this,a,b);return 1==c||2===c?new Pi(a):new zj(a)};Up.prototype.createTileLayer=Up.prototype.Pd;Up.prototype.Cg=function(a,b,c,d){var e=[],f,g=b.layer_id||b.layer_ids;a=this.request(a,Wp,b,function(h){f=new Yp(h.geometries,c,d,function(k){return new Wo([],k.columnNames,k)},function(k,l){var n=k.Ud;k.Ob?k.Ob.push(l):k.Ob=[l];return n.call(k,k.Ob.length-1)},{At:g});e.push(f)},function(h){d(new globalThis.Error(h))});e.push(a);return new zp(e)};\nfunction aq(a,b,c){if(!fb(a))throw new C(c,0,\"has invalid type\");if(!fb(b))throw new C(c,1,\"has invalid type\");if(a.length!==b.length||!a.length)throw new C(c,1,\"specify one key attribute for each given layer id in the same order\");}\nUp.prototype.se=function(a,b,c,d,e,f){function g(l,n){n&&h--;d(l,!h)}var h,k=[];aq(a,b,this.se);Xo(this.se,3,d,e);B(c,K,this.se,2);c={bbox:c.fa+\",\"+c.W+\";\"+c.ga+\",\"+c.ca};f&&Qa(c,f);a=c.layer_id?[c.layer_id]:a;f=0;for(h=a.length;f<h;f++)c.layer_id=a[f],c.key_attribute=b[f],k.push(this.Cg(\"search/bbox\",c,g,e));return new zp(k)};Up.prototype.searchByBoundingBox=Up.prototype.se;\nUp.prototype.Zc=function(a,b,c,d,e,f,g){aq(a,b,this.Zc);B(c,Me,this.Zc,2,\"has invalid type\");if(!jb(d))throw new C(this.Zc,3,\"has invalid type\");Xo(this.Zc,4,e,f);a={layer_ids:a.join(\",\"),key_attributes:b.join(\",\"),proximity:c.lat+\",\"+c.lng+\",\"+d};g&&Qa(a,g);return this.Cg(\"search/proximity\",a,e,f)};Up.prototype.searchByProximity=Up.prototype.Zc;\nUp.prototype.Yc=function(a,b,c,d,e,f,g){var h=\"\";aq(a,b,this.Yc);if(!gb(c)&&!B(c,L))throw new C(this.Yc,1,\"has invalid type\");if(!jb(d))throw new C(this.Yc,2,\"has invalid type\");Xo(this.Yc,4,e,f);a={layer_ids:a.join(\",\"),key_attributes:b.join(\",\"),radius:d};if(gb(c))a.route_id=c;else{d=c.S;c=0;for(b=d.length;c<b;c+=3)h+=d[c]+\",\"+d[c+1],c<b-3&&(h+=\";\");a.corridor=h}g&&Qa(a,g);return this.Cg(\"search/corridor\",a,e,f)};Up.prototype.searchByCorridor=Up.prototype.Yc;\nX.prototype.wA=function(a){return this.Ja(Up,a)};X.prototype.getPlatformDataService=X.prototype.wA;X.prototype.Xl=function(a,b,c,d,e,f){function g(Oa,ic,jc){ic=Oa.rm(ic);ic=r?new Tg(ic):new H.map.render.harp.Style(ic);var La={engineType:l};p&&p.politicalView&&(La.politicalView=p.politicalView);c&&(La.lg=c);d&&(La.lg2=d);f&&(La.pois=f);var Bc;jc&&(Bc={dark:jc});return Oa.od(ic,La,Bc)}function h(Oa,ic,jc,La,Bc){return Oa.Pd(ic,jc,v,La,w,1,Bc,n)}var k=this,l=wi,n={crossOrigin:\"anonymous\"};if(ya(a)){var p=a;\"crossOrigin\"in p&&(n.crossOrigin=p.crossOrigin);a=p.tileSize;b=p.ppi;c=p.lg;d=p.lg2;e=p.style;\nf=p.pois;void 0!==p.engineType&&(l=p.engineType,n.engineType=l)}var q=l===xi.HARP,r=l===xi.WEBGL,v=a||512,w={};if(0>[72,250,320,500].indexOf(+b)){if(b!==A)throw new C(this.Xl,1,b);}else w.ppi=+b;c&&(w.lg=c);d&&(w.lg2=d);e&&(w.style=e);f&&(w.pois=!!f);if(q&&!H.map.render.harp)throw new C(this.Xl,0,\"HARP engine is not supported, module not found\");a={};e=this.Kp();var y=this.Kp({type:\"aerial\"}),D=this.Sp(),G=D.vt(w.lg?{lg:w.lg,i18n:!0,engineType:l}:{engineType:l});no(a,{raster:{normal:{xbase:h(e,\"xbasetile\",\n\"normal.day\",\"png8\",!1),xbasenight:h(e,\"xbasetile\",\"normal.night\",\"png8\",!0),base:h(e,\"basetile\",\"normal.day\",\"png8\",!1),basenight:h(e,\"basetile\",\"normal.night\",\"png8\",!0),map:h(e,\"maptile\",\"normal.day\",\"png8\",!1),mapnight:h(e,\"maptile\",\"normal.night\",\"png8\",!0),trafficincidents:G,transit:h(e,\"maptile\",\"normal.day.transit\",\"png8\",!1),labels:h(e,\"labeltile\",\"normal.day\",\"png\",!1)},satellite:{xbase:h(y,\"xbasetile\",\"hybrid.day\",\"jpg\",!0),base:h(y,\"basetile\",\"hybrid.day\",\"jpg\",!0),map:h(y,\"maptile\",\"hybrid.day\",\n\"jpg\",!0),labels:h(y,\"labeltile\",\"hybrid.day\",\"png\",!0)},terrain:{xbase:h(y,\"xbasetile\",\"terrain.day\",\"jpg\",!1),base:h(y,\"basetile\",\"terrain.day\",\"jpg\",!1),map:h(y,\"maptile\",\"terrain.day\",\"jpg\",!1),labels:h(y,\"labeltile\",\"terrain.day\",\"png\",!1)}}});if(q||r){no(a,{vector:{normal:{traffic:D.ut(void 0,l),trafficincidents:G}}});y=this.Lj({queryParams:{content:\"default,transit\"}});e=this.Tp();D=this.Lj({queryParams:{content:\"default,advanced_roads,advanced_pois,transit\"}});var O=this.Lj({queryParams:{content:\"default,hillshade,contours,transit\"}});\nif(r)a.vector.normal.map=g(y,\"omv/miami/normal.day.yaml\"),a.vector.normal.truck=g(y,\"omv/miami/truck.day.yaml\");else if(q){a.vector.normal.map=g(y,\"harp/oslo/normal.day.json\");a.vector.normal.truck=g(y,\"harp/oslo/normal.day.json\");a.vector.normal.logistics=g(D,\"harp/oslo/logistics.day.json\");a.vector.normal.logisticsnight=g(D,\"harp/oslo/logistics.night.json\");G=g(O,\"harp/oslo/topo.day.json\");O=g(O,\"harp/oslo/topo.night.json\");var R=function(Oa){Oa=Oa.target;if(2===Oa.getState()){Oa.removeEventListener(\"change\",\nR);var ic=Oa.getEnabledFeatures()||[];[{feature:\"terrain\",mode:\"hillshade\"},{feature:\"contours\",mode:\"all\"}].forEach(function(jc){var La=ic.findIndex(function(Bc){return Bc.feature===jc.feature});ic.splice(La,-1===La?0:1,jc)});Oa.setEnabledFeatures(ic)}};G.D.K().addEventListener(\"change\",R);O.D.K().addEventListener(\"change\",R);a.vector.normal.topo=G;a.vector.normal.toponight=O;var Ta={ppi:72<b||void 0===b&&2<=window.devicePixelRatio?200:100,size:256<v?512:256,features:\"pois:\"+(!0===f||gb(f)&&/[^0]/.test(f)?\n\"all\":\"disabled\")};c&&(Ta.lang=c);d&&(Ta.lang2=d);p&&p.politicalView&&(Ta.pview=p.politicalView);b={dark:!0};G=function(Oa,ic,jc,La,Bc){var Lc=no({},Ta);/^explore\\./.test(jc)||delete Lc.features;Oa=k.Qp({format:ic,resource:Oa,queryParams:no({style:jc},Lc)});Bc=new Ho(Oa,{engineType:l,style:Bc});return new zj(Bc,La)};no(a.raster.normal,{base:G(\"background\",\"png8\",\"explore.day\"),basenight:G(\"background\",\"png8\",\"explore.night\",b),map:G(\"base\",\"png8\",\"explore.day\"),mapnight:G(\"base\",\"png8\",\"explore.night\",\nb),labels:G(\"label\",\"png8\",\"explore.day\")});no(a.raster.satellite,{xbase:G(\"background\",\"jpeg\",\"satellite.day\",b),base:G(\"background\",\"jpeg\",\"explore.satellite.day\",b),map:G(\"base\",\"jpeg\",\"explore.satellite.day\",b),labels:G(\"label\",\"png8\",\"explore.satellite.day\")});no(a.vector.normal,{mapnight:g(y,\"harp/oslo/normal.night.json\",!0),lite:g(y,\"harp/oslo/lite.day.json\"),litenight:g(y,\"harp/oslo/lite.night.json\",!0),ism:g(y,\"harp/oslo/road.network.day.json\"),ismnight:g(y,\"harp/oslo/road.network.night.json\",\n!0),roadnetwork:g(y,\"harp/oslo/road.network.day.json\"),roadnetworknight:g(y,\"harp/oslo/road.network.night.json\",!0)});O={styles:[{technique:\"raster\",attr:{gamma:[\"step\",[\"zoom\"],.9,13,1],brightness:[\"step\",[\"zoom\"],.6,12,.7,13,.8,14,.8,17,.9]}}]};for(var aa=[],ub=0;6>ub;ub++){var Ba=new H.map.render.harp.Style(JSON.parse(JSON.stringify(O)));Ba=G(\"background\",\"jpeg\",\"satellite.day\",b,Ba);aa.push(Ba)}a.hybrid={day:{raster:aa[0],vector:g(y,\"harp/oslo/hybrid.day.json\",!0),traffic:g(e,\"harp/oslo/hybrid.day.json\",\n!0)},night:{raster:aa[1],vector:g(y,\"harp/oslo/hybrid.night.json\",!0),traffic:g(e,\"harp/oslo/hybrid.night.json\",!0)},liteday:{raster:aa[2],vector:g(y,\"harp/oslo/lite.hybrid.day.json\",!0),traffic:g(e,\"harp/oslo/lite.hybrid.day.json\",!0)},litenight:{raster:aa[3],vector:g(y,\"harp/oslo/lite.hybrid.night.json\",!0),traffic:g(e,\"harp/oslo/lite.hybrid.night.json\",!0)},logistics:{raster:aa[4],vector:g(D,\"harp/oslo/logistics.hybrid.day.json\",!0),traffic:g(e,\"harp/oslo/logistics.hybrid.day.json\",!0)},logisticsnight:{raster:aa[5],\nvector:g(D,\"harp/oslo/logistics.hybrid.night.json\",!0),traffic:g(e,\"harp/oslo/logistics.hybrid.night.json\",!0)}}}y={traffic:{}};y.traffic.map=g(e,r?\"traffic/vector.tile.yaml\":\"harp/oslo/normal.day.json\");q&&(y.traffic.logistics=g(e,\"harp/oslo/logistics.day.json\"),y.traffic.logisticsnight=g(e,\"harp/oslo/logistics.night.json\"),y.traffic.mapnight=g(e,\"harp/oslo/normal.night.json\"),y.traffic.lite=g(e,\"harp/oslo/lite.day.json\"),y.traffic.litenight=g(e,\"harp/oslo/lite.night.json\"),y.traffic.topo=g(e,\"harp/oslo/topo.day.json\"),\ny.traffic.toponight=g(e,\"harp/oslo/topo.night.json\"));no(a.vector,y)}return a};X.prototype.createDefaultLayers=X.prototype.Xl;function bq(a){bq.g.constructor.call(this,bq,a)}u(bq,so);t(\"H.service.RoutingService8\",bq);bq.CONFIG_KEY=\"routing_v8\";bq.prototype.Da=function(){return{subDomain:\"router\",path:\"v8/routes\"}};bq.prototype.Jc=function(a){return Error(401===(a&&void 0===a.status?401:a.status)?a.error_description:a.title,{cause:a})};bq.prototype.Xg=function(a,b,c){a=this.i().clone().v(a);return this.o(a,b,c)};bq.prototype.calculateRoute=bq.prototype.Xg;\nbq.prototype.Mo=function(a,b,c){a=this.i().clone().la(\"isoline\").wc(\"v8/isolines\").v(a);return this.o(a,b,c)};bq.prototype.calculateIsoline=bq.prototype.Mo;function cq(a){cq.g.constructor.call(this,cq,a);oo(cq,\"Use HERE Routing API v8 instead.\")}u(cq,so);t(\"H.service.RoutingService\",cq);cq.prototype.Da=function(){return{subDomain:\"route.ls\",path:\"routing/7.2\"}};cq.prototype.Jc=function(a){return Error(a.details)};cq.CONFIG_KEY=\"routing\";cq.prototype.Xg=function(a,b,c){a=this.i().clone().A(\"calculateroute.json\").v(a);return this.o(a,b,c)};cq.prototype.calculateRoute=cq.prototype.Xg;\ncq.prototype.Mo=function(a,b,c){a=this.i().clone().la(\"isoline\").A(\"calculateisoline.json\").v(a);return this.o(a,b,c)};cq.prototype.calculateIsoline=cq.prototype.Mo;X.prototype.su=function(a,b){b=+b||7;if(7===b)b=cq;else if(8===b)b=bq;else throw new C(this.su,1,\"allowed values are 7 and 8\");return this.Ja(b,a)};X.prototype.getRoutingService=X.prototype.su;function dq(a){this.ns=!!a.toBypassToken;if(!this.ns&&!a.token)throw new C(dq,0,'\"token\" must be specified');oo(dq,\"Use HERE IML service instead.\");dq.g.constructor.call(this,dq,a);this.Ex=a.token;this.st={};this.Vl={}}u(dq,so);t(\"H.service.xyz.Service\",dq);dq.prototype.Da=function(){return{host:\"xyz.api.here.com\",path:\"hub/spaces\"}};dq.prototype.Jc=function(a){return Error(a.errorMessage||a.message)};\ndq.prototype.Np=function(a,b,c){db(a,\"String\",this.Np,0,'\"projectId\" must be a string');eq(this.Np,1,b,c);a=fq(this.i().clone().wc(\"project-api/projects/\"+a));return this.o(a,b,c)};dq.prototype.getProject=dq.prototype.Np;dq.prototype.tu=function(a,b,c){eq(this.tu,0,a,b);c=gq(this,this.i().clone().v(c||{}));return this.o(c,a,b)};dq.prototype.getSpaces=dq.prototype.tu;\ndq.prototype.qm=function(a,b,c){db(a,\"String\",this.qm,0,'\"spaceId\" must be a string');eq(this.qm,1,b,c);a=gq(this,this.i().clone().A(a));return this.o(a,b,c)};dq.prototype.getSpace=dq.prototype.qm;dq.prototype.Dh=function(a,b,c){db(a,\"String\",this.Dh,0,'\"spaceId\" must be a string');eq(this.Dh,1,b,c);a=gq(this,this.i().clone().A(a+\"/statistics\"));return this.o(a,b,c)};dq.prototype.getStatistics=dq.prototype.Dh;\ndq.prototype.lm=function(a,b,c,d,e,f,g){a=gq(this,this.i().clone().A(d+\"/tile/web/\"+c+\"_\"+a+\"_\"+b+\".mvtf\").v(Object.assign({clip:!0},g)));return this.o(a,function(h){return h.arrayBuffer().then(e)},f,\"arraybuffer\")};dq.prototype.search=function(a,b,c,d){db(a,\"String\",this.search,0,'\"spaceId\" must be a string');eq(this.search,1,b,c);a=gq(this,this.i().clone().A(a+\"/search\").v(d||{}));return this.o(a,b,c)};dq.prototype.search=dq.prototype.search;\ndq.prototype.Ue=function(a,b,c,d){db(a,\"String\",this.Ue,0,'\"spaceId\" must be a string');if(!ya(b))throw new C(this.Ue,1,'\"params\" must be an object');eq(this.Ue,2,c,d);a=gq(this,this.i().clone().A(a+\"/features\").v(b));return this.o(a,c,d)};dq.prototype.getFeaturesById=dq.prototype.Ue;\ndq.prototype.wh=function(a,b,c,d){db(a,\"String\",this.wh,0,'\"spaceId\" must be a string');if(!ya(b))throw new C(this.Ue,1,'\"params\" must be an object');eq(this.wh,2,c,d);a=gq(this,this.i().clone().A(a+\"/bbox\").v(b));return this.o(a,c,d)};dq.prototype.getFeaturesByBoundingBox=dq.prototype.wh;dq.prototype.U=function(a){var b=this.st[a];if(b)return b;this.Vl[a]||this.Kf(a);return null};\ndq.prototype.nf=function(a,b,c,d,e){db(a,\"String\",this.nf,0,'\"spaceId\" must be a string');if(!ya(b))throw new C(this.nf,1,'\"geojsonObject\" must be an object');eq(this.nf,2,c,d);if(e&&!ya(e))throw new C(this.nf,4,'\"opt_params\" must be an object');return hq(this,a,c,d,\"PUT\",b,e)};dq.prototype.putFeatures=dq.prototype.nf;\ndq.prototype.lf=function(a,b,c,d,e){db(a,\"String\",this.lf,0,'\"spaceId\" must be a string');if(!ya(b))throw new C(this.lf,1,'\"featureCollection\" must be an object');eq(this.lf,2,c,d);if(e&&!ya(e))throw new C(this.lf,4,'\"opt_params\" must be an object');return hq(this,a,c,d,\"POST\",b,e)};dq.prototype.postFeatures=dq.prototype.lf;\ndq.prototype.If=function(a,b,c,d){db(a,\"String\",this.If,0,'\"spaceId\" must be a string');if(!ya(b))throw new C(this.If,1,'\"params\" must be an object');eq(this.If,2,c,d);return hq(this,a,c,d,\"DELETE\",A,b)};dq.prototype.deleteFeatures=dq.prototype.If;\nfunction hq(a,b,c,d,e,f,g){var h=Object.assign(a.ns?{}:{authorization:\"Bearer \"+a.Ex},{\"Content-Type\":\"application/geo+json\"},a.pc);e={method:e,headers:h};f&&(e.data=JSON.stringify(f));b=fq(a.i().clone().A(b+\"/features\").v(g||{}));f=new gg(\"application/json\",b.toString(),Xd,e);f.then(c,vo(a,b,d));return f}dq.prototype.Kf=function(a){var b=this;this.Vl[a]=iq;this.qm(a,function(c){b.Vl[a]=jq;b.st[a]=c.copyright;b.dispatchEvent(\"copyrightupdate\")},function(c){b.Vl[a]=kq;throw c;})};\nfunction gq(a,b){return a.ns?b:fq(b).v({access_token:a.Ex})}function fq(a){var b=Object.assign({},a.getQuery());delete b.apikey;return a.Tk(b)}dq.CONFIG_KEY=\"xyz\";var iq=1,jq=2,kq=-1;function eq(a,b,c,d){if(!Za(c))throw new C(a,b,'\"onResult\" must be a function');if(!Za(d))throw new C(a,b+1,'\"onError\" must be a function');}X.prototype.XA=function(a){return this.Ja(dq,a)};X.prototype.getXYZService=X.prototype.XA;function lq(a,b,c){var d;lq.g.constructor.call(this,c?{min:c.min,max:c.max,engineType:c.engineType}:void 0);B(a,dq,lq,0);if(!gb(b))throw new C(lq,1,'\"spaceId\" must be a string');this.$=a;this.Gg=b;this.Ok={};if(c&&([\"limit\",\"simplificationLevel\",\"tags\"].forEach(function(e){e in c&&(this.Ok[e]=c[e])},this),a=c.parameters))for(d in a)this.Ok[d]=a[d];this.Xa(this.Ep())}u(lq,T);t(\"H.service.xyz.Provider\",lq);lq.prototype.o=function(a,b,c,d,e){return this.$.lm(a,b,c,this.Gg,d,e,this.Ok)};\nlq.prototype.requestInternal=lq.prototype.o;lq.prototype.U=function(){return this.$.U(this.Gg)};lq.prototype.getCopyrights=lq.prototype.U;lq.prototype.Xc=pe;lq.prototype.providesOMV=lq.prototype.Xc;lq.prototype.K=function(){return this.mb()};lq.prototype.getStyle=lq.prototype.K;lq.prototype.Cb=function(a){B(a,Tg)&&a.Yb(\"MVT\");this.Xa(a)};lq.prototype.setStyle=lq.prototype.Cb;\nlq.prototype.Ep=function(){return this.vb===xi.WEBGL?new Tg({sources:{xyz:{type:\"MVT\"}},layers:{xyz:{data:{source:\"xyz\",layer:this.Gg},points:{filter:{$geometry:\"point\"},draw:{points:{collide:!1,order:200,color:\"#92CF48\",size:[[10,\"8px\"],[14,\"12px\"],[18,\"16px\"]]}}},polygons:{filter:{$geometry:\"polygon\"},draw:{polygons:{order:201,color:\"#E39E3C\"},lines:{order:202,color:\"#755DA5\",width:\"1px\"}}},lines:{filter:{$geometry:\"line\"},draw:{lines:{order:203,color:\"#000000\",width:\"2px\",join:\"round\",cap:\"round\"}}}}}}):\nnew H.map.render.harp.Style({styles:[{layer:this.Gg,when:[\"==\",[\"geometry-type\"],\"Point\"],technique:\"circles\",renderOrder:200,color:\"#92CF48\",size:[\"interpolate\",[\"linear\"],[\"zoom\"],10,8,14,12,18,16]},{layer:this.Gg,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"polygon\",color:\"#E39E3C\",renderOrder:201},{layer:this.Gg,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"solid-line\",color:\"#755DA5\",width:\"1px\",renderOrder:202},{layer:this.Gg,when:[\"==\",[\"geometry-type\"],\"LineString\"],technique:\"solid-line\",\ncolor:\"#000000\",width:\"2px\",renderOrder:203}]})};function mq(a){mq.g.constructor.call(this,mq,a)}u(mq,so);t(\"H.service.WaypointsSequenceService\",mq);mq.CONFIG_KEY=\"waypointsSequence\";mq.prototype.mz=function(a,b,c){a=this.i().clone().la(\"wps\").wc(\"v8/findsequence2\").v(a);return this.o(a,b,c)};mq.prototype.findSequence=mq.prototype.mz;X.prototype.WA=function(a){return this.Ja(mq,a)};X.prototype.getWaypointsSequenceService=X.prototype.WA;function nq(a){if(!a||!Za(a.requestData))throw new C(nq,0,\"options.requestData\");nq.g.constructor.call(this,a);this.OC=a.requestData;this.DC=!!a.providesDomMarkers}u(nq,T);t(\"H.map.provider.MarkerTileProvider\",nq);nq.prototype.o=function(a,b,c,d,e){var f=this;return this.OC(a,b,c,function(g){for(var h=[],k,l,n=g.length;n--;)l=g[n],l.zD=f.getTileKey(a,b,c),l.ea(f),k=l.kc(),(B(l,Jh)||1===k.getState())&&h.push(g[n]);d(h)},e)};nq.prototype.requestInternal=nq.prototype.o;\nnq.prototype.Hh=function(a,b){b===hc.VISUAL&&(a=this.Sb().get(a.zD))&&(a.valid=!1,this.jb(a))};nq.prototype.invalidateObject=nq.prototype.Hh;nq.prototype.Vc=function(){return this.DC};nq.prototype.providesDomMarkers=nq.prototype.Vc;nq.prototype.Wc=pe;nq.prototype.providesMarkers=nq.prototype.Wc;function oq(){this.vd={}}oq.prototype.kc=function(a,b){var c=a+b,d;if(d=this.vd[c])return d;a=pq.MARKER.replace(\"{{icon}}\",qq[a]||qq.OTHER);a=a.replace(\"{{color}}\",rq[b]||rq.BLOCKING);b={size:{w:26,h:33},anchor:{x:13,y:30},hitArea:new Ch(Dh.POLYGON,sq.MARKER)};return this.vd[c]=d=new Si(a,b)};\nvar pq={MARKER:'<svg width=\"26\" height=\"33\" enable-background=\"new 0 0 26 33\" viewBox=\"0 0 26 33\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m26 33h-26v-33h26z\" fill=\"#8c8c8c\" opacity=\"0\"/><path d=\"m17 29.566c0 1.116-1.791 2.022-4 2.022s-4-.906-4-2.022c0-1.118 1.791-2.026 4-2.026s4 .908 4 2.026\" fill=\"#878787\" opacity=\".6\"/><path d=\"m1.795 17.971c-1.562-1.555-1.574-3.828-.028-5.655l8.343-10.021c.769-.895 1.795-1.384 2.894-1.384 1.117 0 2.197.521 2.889 1.394l8.338 10.014c1.588 1.854 1.578 4.022-.029 5.65l-11.202 11.202z\" fill=\"{{color}}\"/>{{icon}}</svg>'},qq=\n{CONGESTION:'<path style=\"fill:#FFFFFF;\" d=\"M12.966,1.177c0.965,0,1.894,0.442,2.496,1.204l8.378,10.258c1.362,1.592,1.482,3.477,0,4.979L12.994,28.464L2.143,17.618c-1.381-1.375-1.38-3.348,0-4.979l8.314-10.258C11.174,1.547,12.085,1.177,12.966,1.177 M12.967,0.177L12.967,0.177c-1.247,0-2.408,0.551-3.269,1.552l-8.332,10.28c-1.711,2.022-1.688,4.567,0.07,6.317l10.85,10.845l0.707,0.707l0.707-0.707l10.847-10.846c1.784-1.807,1.803-4.292,0.053-6.337L16.237,1.748C15.462,0.769,14.236,0.177,12.967,0.177L12.967,0.177z M16.645,10.405l-2.025-2.22c-0.48-0.51-1.15-0.8-1.84-0.8H9.53c-0.69,0-1.36,0.29-1.84,0.8l-1.94,2.22c-0.39,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.44l0.255-0.539c0.204-0.431,0.456-0.837,0.753-1.21l0.962-1.211l0.83-0.9c0.32-0.35,0.72-0.63,1.15-0.82H8.23c-0.28,0-0.55-0.07-0.79-0.22l-0.28-0.17l1.27-1.45c0.28-0.31,0.68-0.48,1.1-0.48h3.25c0.42,0,0.82,0.17,1.1,0.48l1.354,1.54H16.645z M18.31,12.205c-0.35-0.37-0.81-0.63-1.3-0.74c-0.18-0.04-0.36-0.06-0.54-0.06h-3.24c-0.7,0-1.37,0.29-1.84,0.8l-1.13,1.22l-0.82,1c-0.38,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.75v-1h5.99v1h1.75c0.69,0,1.25-0.56,1.25-1.25v-1.64c0-0.74-0.2-1.46-0.59-2.09L18.31,12.205z M12.1,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C12.35,16.993,12.238,17.105,12.1,17.105z M18.59,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C18.84,16.993,18.728,17.105,18.59,17.105z M18.56,14.505c-0.24,0.15-0.51,0.22-0.79,0.22h-5.85c-0.28,0-0.55-0.07-0.78-0.22l-0.29-0.17l1.27-1.45c0.15-0.16,0.33-0.28,0.53-0.37c0.18-0.07,0.38-0.11,0.58-0.11h3.24c0.24,0,0.48,0.06,0.68,0.16c0.16,0.08,0.3,0.19,0.42,0.32l1.27,1.45L18.56,14.505z M8.42,13.03h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C8.67,12.918,8.559,13.03,8.42,13.03z\"/>',\nROADWORKS:'<path d=\"m13.004 1.411c.964 0 1.894.441 2.496 1.204l8.346 10.023c1.363 1.592 1.482 3.477 0 4.979l-10.846 10.847-10.852-10.846c-1.381-1.375-1.379-3.348 0-4.979l8.346-10.023c.717-.835 1.628-1.205 2.51-1.205m0-1c-1.248 0-2.408.551-3.268 1.552l-8.356 10.035c-1.718 2.033-1.695 4.578.064 6.328l10.85 10.845.706.707.707-.707 10.846-10.846c1.784-1.808 1.803-4.293.053-6.337l-8.337-10.012c-.769-.973-1.996-1.565-3.265-1.565zm-.575 15.264c.018-.332-.13-.651-.394-.851l-2.945-2.235-.21.36c-.22.39-.41.78-.58 1.19l-.677 2.129-1.364 3.051h1.314l2.109-4.672 1.317 1.212.138 3.46h1.092zm6.16-1.327c-.401-.54-1.209-.539-1.609.001l-1.17 1.58-2.29-1.74-.139-4.054c-.011-.276-.134-.535-.342-.716l-.7-.61c-.185-.161-.422-.25-.667-.25h-1.885c-.335 0-.648.168-.833.447l-1.144 1.723 7.58 5.76-1.86 2.51c-.098.132-.004.32.161.32h6.648l1.142-1.077zm-8.79-2.989-.876-.665.841-1.018.965.043zm1.63 1.24.969-1.781.118 2.61zm2.76-5.79c-.64 0-1.16.52-1.16 1.16 0 .65.52 1.17 1.16 1.17s1.16-.52 1.16-1.17c0-.64-.52-1.16-1.16-1.16z\" fill=\"#fff\"/>',\nACCIDENT:'<path style=\"fill:#FFFFFF;\" d=\"M12.998,1.091c0.964,0,1.894,0.442,2.496,1.204l8.346,10.344c1.363,1.592,1.482,3.477,0,4.979L12.994,28.465L2.143,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.344C11.205,1.462,12.115,1.091,12.998,1.091 M12.998,0.091L12.998,0.091c-1.248,0-2.408,0.551-3.269,1.552L1.364,12.011c-1.708,2.021-1.685,4.566,0.073,6.316l10.85,10.845l0.707,0.707l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337l-8.327-10.32C15.494,0.684,14.268,0.091,12.998,0.091L12.998,0.091z M7.83,18.982l-3.309-1.855l0.945,1.855H7.83z M16.111,19h3.942l1.596-2L16.111,19z M10.512,20.064l1.021-1.021l1.632,0.076c0.329,0.018,0.651-0.022,0.963-0.123c0.626-0.206,1.122-0.76,1.288-1.44l0.264-1.089l2.066-0.93c0.373-0.17,0.673-0.42,0.861-0.731c0.275-0.449,0.405-0.97,0.369-1.498L18.9,11.676l1.021-1.021l-0.724-0.724l-0.427,0.427l-0.121-0.364c-0.201-0.603-0.54-1.151-0.989-1.6l-1.159-1.159c-0.5-0.5-1.31-0.5-1.809,0l-1.267,1.267l0.724,0.724l-5.066,5.066l-0.724-0.724l-1.267,1.267c-0.5,0.5-0.5,1.31,0,1.809l1.159,1.159c0.449,0.449,0.997,0.788,1.6,0.989l0.364,0.121l-0.427,0.427L10.512,20.064z M14.901,10.349l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0l-0.732-0.732C14.803,10.604,14.803,10.446,14.901,10.349z M9.472,15.777l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0L9.472,16.13C9.375,16.033,9.375,15.874,9.472,15.777z M11.391,17.615c0.069-0.271,0.206-0.518,0.405-0.717l4.961-4.961c0.195-0.195,0.445-0.337,0.717-0.405l0.344-0.083l0.137,1.925c0.022,0.318-0.058,0.63-0.221,0.901c-0.101,0.166-0.279,0.271-0.409,0.329L14.8,15.74l-0.38,1.574c-0.083,0.344-0.318,0.615-0.612,0.713c-0.188,0.058-0.38,0.083-0.579,0.072l-1.925-0.138L11.391,17.615z\"/>',\nOTHER:'<path style=\"fill:#FFFFFF;\" d=\"M13.004,1.411c0.964,0,1.894,0.441,2.496,1.204l8.346,10.023c1.363,1.592,1.482,3.477,0,4.979L13,28.465L2.148,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.023C11.211,1.781,12.122,1.411,13.004,1.411 M13.004,0.411L13.004,0.411c-1.248,0-2.408,0.551-3.268,1.552L1.38,11.998c-1.718,2.033-1.694,4.579,0.064,6.328l10.85,10.845L13,29.878l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337L16.269,1.976C15.5,1.003,14.273,0.411,13.004,0.411L13.004,0.411z M14.716,20.139c0,0.947-0.758,1.724-1.724,1.724c-0.947,0-1.704-0.777-1.704-1.724c0-0.928,0.757-1.704,1.704-1.704C13.958,18.435,14.716,19.211,14.716,20.139z M14.204,16.33H11.78l-0.537-8.533h3.5L14.204,16.33z\"/>'},\nrq={BLOCKING:\"#323232\",VERYHIGH:\"#d5232f\",HIGH:\"#ffa100\"},sq={MARKER:[24.1,17.8,14.2,28.42,16.8,29.4,12.8,31.4,8.79,29.4,11.23,28.42,1.7,17.8,1.7,12.1,10,1.9,12.9,.498,15.8,1.9,24.1,12.1,24.1,17.8]};function tq(a,b,c){c=c?c:{};c.criticality||(c.criticality=\"major,critical\");B(a,uq,tq,0);nq.call(this,{max:20,min:8,requestData:z(this.SC,this),engineType:c.engineType});this.vd=new oq;this.$=a;this.Ga=c;this.reload=z(this.reload,this);this.yr=setInterval(this.reload,b||18E4)}u(tq,nq);t(\"H.service.traffic.incidents.Provider\",tq);var vq={minor:\"HIGH\",\"low impact\":\"HIGH\",major:\"VERYHIGH\",critical:\"BLOCKING\"};\ntq.prototype.SC=function(a,b,c,d,e){var f=this,g=this.vd;return this.$.requestIncidentsByTile(a,b,c,function(h){var k=[];h=h.TRAFFIC_ITEMS;var l;if(h)for(h=h.TRAFFIC_ITEM,l=h.length;l--;){var n=h[l];var p=n.TRAFFIC_ITEM_TYPE_DESC;switch(p){case \"ACCIDENT\":case \"CONGESTION\":var q=p;break;case \"CONSTRUCTION\":q=\"ROADWORKS\";break;default:q=\"OTHER\"}q=g.kc(q,vq[n.CRITICALITY.DESCRIPTION]);p=n.LOCATION.GEOLOC.ORIGIN;p=new Vi({lat:p.LATITUDE,lng:p.LONGITUDE},{provider:f,icon:q});p.setData(n);k.push(p)}d(k)},\ne,this.Ga)};tq.prototype.l=function(){nq.prototype.l.call(this);clearInterval(this.yr)};tq.prototype.dispose=tq.prototype.l;function wq(a){wq.g.constructor.call(this,wq,a)}u(wq,so);t(\"H.service.traffic.Service7\",wq);wq.prototype.Da=function(){return{subDomain:\"data.traffic\",path:\"v7\"}};wq.CONFIG_KEY=\"traffic_v7\";wq.prototype.RC=function(a,b,c,d){a=this.i().clone().A([\"incidents\",a].join(\"/\")).v(b||{});return this.o(a,c,d)};wq.prototype.requestIncidentById=wq.prototype.RC;wq.prototype.PC=function(a,b,c){a=this.i().clone().A(\"flow\").v(a||{});return this.o(a,b,c)};wq.prototype.requestFlowByArea=wq.prototype.PC;\nwq.prototype.UC=function(a,b,c){a=this.i().clone().A(\"incidents\").v(a||{});return this.o(a,b,c)};wq.prototype.requestIncidentsByArea=wq.prototype.UC;var xq=\"A21 A22 F01 F02 F08 F04 F05 F07 F03 F06 A2F F13 A25 A2C F12 D1B F1B A27 E12 A3A A24 A3D A3F F1F F25 F2C E32 A33 F29 D26 D36 F26 D0F F0F F2B E0C D3A A45 D23 D11 F2E F19 F14 F39 A4A A4B A5C D38 F2A F1A D0A F1C A48 D25 D1D F32 A46 A3E D24 E1C E32 A5F D2E D22 D0A\".split(\" \");function yq(a,b,c,d){yq.g.constructor.call(this,{min:10,max:21,engineType:d});B(a,uq,yq,0);this.$=a;this.Ga=c||zq;this.Ga.responseattributes=\"sh,fc\";this.yr=setInterval(z(this.reload,this),b||18E4);this.vb===xi.WEBGL?this.Xa(new Tg(a.rm(\"traffic/flow.yaml\")),!0):this.Xa(new H.map.render.harp.Style({styles:[{when:[\"==\",[\"geometry-type\"],\"LineString\"],technique:\"solid-line\",renderOrder:10002,attr:{color:[\"case\",[\">=\",[\"get\",\"JF\"],10],\"black\",[\">=\",[\"get\",\"JF\"],8],\"red\",[\">=\",[\"get\",\"JF\"],4],\"yellow\",\n\"green\"],width:3,metricUnit:\"Pixel\"}}]}))}u(yq,T);t(\"H.service.traffic.flow.Provider\",yq);yq.prototype.rr=pe;yq.prototype.providesGeoJSON=yq.prototype.rr;yq.prototype.K=function(){return this.mb()};yq.prototype.getStyle=yq.prototype.K;yq.prototype.Cb=function(a){a.Yb&&a.Yb(\"GeoJSONTileSource\");this.Xa(a)};yq.prototype.setStyle=yq.prototype.Cb;var zq={locationreferences:\"tmc,shp\"};yq.prototype.disposeInternal=function(){yq.g.disposeInternal.call(this);clearInterval(this.yr)};\nyq.prototype.o=function(a,b,c,d,e){return this.$.requestFlowByTile(a,b,c,function(f){f.type&&-1!==f.type.indexOf(\"Error\")?e(f.Details):d(f)},e,this.Ga)};yq.prototype.requestInternal=yq.prototype.o;\nyq.prototype.pd=function(a,b,c,d,e){var f,g,h,k,l={type:\"FeatureCollection\",features:[]},n;var p=d.RWS.length;for(f=0;f<p;f++){var q=d.RWS[f];var r=q.RW;var v=r.length;var w=-1!==xq.indexOf(q.EXTENDED_COUNTRY_CODE+q.EBU_COUNTRY_CODE);for(q=0;q<v;q++){var y=r[q].FIS;var D=y.length;for(y=0;y<D;y++){var G=r[q].FIS[y].FI;var O=G.length;for(g=0;g<O;g++){var R=G[g];var Ta=[];var aa=R.CF[0];var ub=!!aa.SSS;var Ba={type:\"Feature\",properties:aa,geometry:{type:\"MultiLineString\",coordinates:Ta}};Ba.properties.LHT=\nw;R.SHP.length&&(Ba.properties.FC=R.SHP[0].FC);ub&&(n=[]);for(aa=0;aa<R.SHP.length;aa++){var Oa=R.SHP[aa].value;var ic=Oa.length;for(h=0;h<ic;h++){var jc=ub?n:void 0,La=new ch(Oa[h].trim()),Bc=[],Lc={};for(La.yi();-1!==(k=La.eb());)k===Aq?(Lc.lat=+String.fromCharCode.apply(yq,La.mh()),La.next(),La.yi()):k===Bq?(Lc.lng=+String.fromCharCode.apply(yq,La.mh()),Bc.push([Lc.lng,Lc.lat]),jc&&jc.push(Oe(Lc)),Lc=[],La.next(),La.yi()):La.next();Lc.lng=+String.fromCharCode.apply(yq,La.mh());Bc.push([Lc.lng,\nLc.lat]);jc&&jc.push(Oe(Lc));k=Bc;Ta.push(k)}}l.features.push(Ba)}}}}return yq.g.pd.call(this,a,b,c,l,e)};yq.prototype.createTileInternal=yq.prototype.pd;var Bq=32,Aq=44;function Cq(a){function b(n){d.contains(e)&&d.removeChild(e);l&&clearTimeout(l);delete Cq.Br[f];n&&a.Ot&&a.Ot.call(k,n)}if(!a.url||!a.Oo)throw Error('Parameter \"options\" must specify at least a URL and a callback.');if(\"function\"!==typeof a.Oo)throw Error(\"Parameters options.callback must be a function\");var c=a.dE||document;var d=c.getElementsByTagName(\"head\")[0];var e=c.createElement(\"script\");c=a.url instanceof W?a.url:Ao(a.url,a.bE);var f=Cq.YC++;var g=a.Cy||\"callback\";var h=a.Oo;var k={};var l=\nnull;k.id=f;k.cancel=function(){b(\"cancelled\")};0!==a.timeout&&(l=globalThis.setTimeout(function(){b(\"timeout\")},a.timeout||3E4));Cq.Br[f]=function(n){b();h.call(k,n)};e.type=\"text/javascript\";e.src=c.toString()+(c.Du()?\"&\":\"?\")+g+\"=\"+(a.eE?\"H.service.jsonp.handleResponse(\"+f+\")\":encodeURI(\"H.service.jsonp.handleResponse(\"+f+\")\"));d.appendChild(e);return k}t(\"H.service.jsonp\",Cq);Cq.$A=function(a){return(a=Cq.Br[a])?a:function(){}};Cq.handleResponse=Cq.$A;Cq.YC=0;Cq.Br={};function uq(a){uq.g.constructor.call(this,uq,a);this.Dy=to(this,a).callbackKey;this.Ye=!1}u(uq,so);t(\"H.service.traffic.Service\",uq);uq.prototype.Da=function(){return{subDomain:\"traffic.ls\",path:\"traffic/6.1\",callbackKey:\"jsoncallback\"}};uq.CONFIG_KEY=\"traffic\";uq.prototype.ut=function(a,b){return new zj(new yq(this,void 0,a,b),{max:22})};uq.prototype.createFlowLayer=uq.prototype.ut;uq.prototype.vt=function(a){return new Pi(new tq(this,void 0,a))};uq.prototype.createIncidentsLayer=uq.prototype.vt;\nfunction Dq(a,b,c,d){a.Ye||(oo(uq,\"Use HERE Traffic API v7 instead.\"),a.Ye=!0);return Cq({url:b,Oo:c,Ot:function(e){d(Error(\"[\"+e+\"] \"+b+\" request failed\"))},Cy:a.Dy})}uq.prototype.TC=function(a,b,c){a=this.i().clone().A(\"incidents.json\").v(a);return Dq(this,a,b,c)};uq.prototype.requestIncidents=uq.prototype.TC;uq.prototype.QC=function(a,b,c,d,e,f){a=this.i().clone().A([\"flow/json\",c,a,b].join(\"/\")).v(f||{});return Dq(this,a,d,e)};uq.prototype.requestFlowByTile=uq.prototype.QC;\nuq.prototype.VC=function(a,b,c,d,e,f){a=this.i().clone().A([\"incidents/json\",c,a,b].join(\"/\")).v(f||{});return Dq(this,a,d,e)};uq.prototype.requestIncidentsByTile=uq.prototype.VC;uq.prototype.rm=function(a){return qn()+\"/\"+a};X.prototype.Sp=function(a,b){b=b||6;if(6===b)b=uq;else if(7===b)b=wq;else throw new C(this.Sp,1,\"allowed values are 6 and 7\");return this.Ja(b,a)};X.prototype.getTrafficService=X.prototype.Sp;function Eq(){this.qs={}}function Fq(a,b){for(var c in b)b.hasOwnProperty(c)&&a.Bo(c,b[c])}Eq.prototype.Bo=function(a,b){a=this.qs[a]||(this.qs[a]=[]);var c,d=b.length;for(c=0;c<d;c++){var e=new po.Rs(b[c]);a.push(e)}};Eq.prototype.query=function(a,b,c){a=this.qs[a];var d,e=a?a.length:0,f=[];for(d=0;d<e;d++)a[d].Wf(b,c)&&f.push(a[d]);return f};\npo.Rs=function(a){var b,c=a.boxes;this.alt=a.alt;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.Gn=[];if(c&&(b=c.length)){var d=c[0];var e=new K(d[0],d[1],d[2],d[3]);this.Gn.push(e);this.rn=new K(d[0],d[1],d[2],d[3]);for(a=1;a<b;a++)d=c[a],e=new K(d[0],d[1],d[2],d[3]),this.Gn.push(e),this.rn.zd(e,!1,this.rn)}};po.Rs.prototype.Wf=function(a,b){if(a>=this.min&&a<=this.max)if((a=this.Gn.length)&&this.rn){if(this.rn.Wf(b))for(;a--;)if(this.Gn[a].Wf(b))return!0}else return!0;return!1};function Io(a){a=void 0===a?{}:a;Io.g.constructor.call(this,Io,a);this.Ci={Rn:a.resource||\"base\",Dn:a.projection||\"mc\",format:a.format||\"png8\"};this.Fn=a.queryParams||{}}u(Io,so);t(\"H.service.rasterTile.Service\",Io);m=Io.prototype;m.K=function(){return this.Fn.style||\"explore.day\"};m.Sf=function(a,b,c){return this.i().clone().A(this.Ci.Rn+\"/\"+(this.Ci.Dn+\"/\")+(c+\"/\"+a+\"/\"+b+\"/\")+this.Ci.format).v(this.Fn)};m.Da=function(){return{subDomain:\"maps\",path:\"v3\"}};\nm.U=function(){this.ec||this.Kf();return this.ec};m.Kf=function(){this.ec=new Eq;this.o(this.i().clone().A(\"copyright\"),z(this.pl,this),re)};m.pl=function(a){var b=a.copyrights;a=a.resources;var c={},d=this.Ci.Rn+\".\"+this.K();c[d]=[];a[this.Ci.Rn].styles[this.K()].forEach(function(e){b[e].forEach(function(f){var g=[];f.boundingBoxes.forEach(function(h){g.push([h.north,h.west,h.south,h.east])});c[d].push({boxes:g,label:f.label,alt:f.alt,minLevel:f.minLevel,maxLevel:f.maxLevel})})});Fq(this.ec,c)};\nm.Kj=function(a,b){return this.o(this.i().clone().A(\"info\"),a,b)};Io.prototype.getInfo=Io.prototype.Kj;Io.prototype.Nj=function(a,b){return this.o(this.i().clone().A(\"politicalViews\"),a,b)};Io.prototype.getPoliticalViews=Io.prototype.Nj;Io.prototype.Xz=function(a,b){return this.o(this.i().clone().A(\"features\"),a,b)};Io.prototype.getFeatures=Io.prototype.Xz;Io.prototype.Ip=function(a,b){return this.o(this.i().clone().A(\"languages\"),a,b)};Io.prototype.getLanguages=Io.prototype.Ip;Io.CONFIG_KEY=\"rasterTile\";\nX.prototype.Qp=function(a){return this.Ja(Io,a)};X.prototype.getRasterTileService=X.prototype.Qp;function Gq(a){Gq.g.constructor.call(this,Gq,a);this.Pw=to(this,a).reverseSubDomain;oo(Gq,\"Use HERE Geocoding and Search API v7 instead.\")}u(Gq,so);t(\"H.service.GeocodingService\",Gq);Gq.prototype.Da=function(){return{subDomain:\"geocoder.ls\",reverseSubDomain:\"reverse\",path:\"6.2\"}};Gq.CONFIG_KEY=\"geocoding\";Gq.prototype.Jc=function(a){return Error(a.Details||a.message||a.error)};Gq.prototype.xp=function(a,b,c){a=this.i().clone().A(\"geocode.json\").v(a);return this.o(a,b,c)};\nGq.prototype.geocode=Gq.prototype.xp;Gq.prototype.Fr=function(a,b,c){a=this.i().clone().A(\"reversegeocode.json\").v(a);this.Pw&&a.la(this.Pw);return this.o(a,b,c)};Gq.prototype.reverseGeocode=Gq.prototype.Fr;Gq.prototype.search=function(a,b,c){a=this.i().clone().A(\"search.json\").v(a);return this.o(a,b,c)};Gq.prototype.search=Gq.prototype.search;X.prototype.Yz=function(a){return this.Ja(Gq,a)};X.prototype.getGeocodingService=X.prototype.Yz;function Hq(a){Hq.g.constructor.call(this,Hq,a);this.uu=a.getToken}u(Hq,so);t(\"H.service.iml.Service\",Hq);Hq.prototype.Da=function(){return{host:\"interactive.data.api.platform.here.com\",path:\"interactive/v1/catalogs\"}};\nHq.prototype.Jc=function(a){function b(){for(var d=fa(c),e=d.next();!e.done;e=d.next()){e=e.value;var f=e.format;if(e.keys.every(function(g){return a[g]}))return f()}return JSON.stringify(a)}var c=[{keys:[\"code\",\"title\",\"cause\",\"action\"],format:function(){return a.code+\": \"+a.title+\"; cause: \"+a.cause+\"; action: \"+a.action}},{keys:[\"error\",\"error_description\"],format:function(){return a.error+\": \"+a.error_description}},{keys:[\"error\",\"errorMessage\"],format:function(){return a.error+\": \"+a.errorMessage}}];\nreturn Error(ya(a)?b():a)};Hq.prototype.Dh=function(a,b,c,d,e){var f=this.Dh;Iq(f,0,a,b);Jq(f,2,c,d);a=this.i().clone().A(a+\"/layers/\"+b+\"/statistics\").v(e||{});return this.I(a,\"GET\",c,d)};Hq.prototype.getStatistics=Hq.prototype.Dh;Hq.prototype.lm=function(a,b,c,d,e,f,g,h,k){var l=k?\"\":\".mvtf\";a=this.i().clone().A(d+\"/layers/\"+e+\"/tile/web/\"+c+\"_\"+a+\"_\"+b+l).v(Object.assign({clip:!0},h));return this.I(a,\"GET\",k?f:function(n){return n.arrayBuffer().then(f)},g,void 0,k?\"application/json\":\"arraybuffer\")};\nHq.prototype.getFeaturesByTile=Hq.prototype.lm;Hq.prototype.hu=function(a,b,c,d,e,f){var g=this.hu;Kq(g,a);Iq(g,1,b,c);Jq(g,3,d,e);a=Lq(this,a,b,c,f);return this.I(a,\"GET\",d,e)};Hq.prototype.getFeatureById=Hq.prototype.hu;Hq.prototype.Ue=function(a,b,c,d,e,f){var g=this.Ue;Mq(g,a);Iq(g,1,b,c);Jq(g,3,d,e);a=Nq(this,a,b,c,f);return this.I(a,\"GET\",d,e)};Hq.prototype.getFeaturesById=Hq.prototype.Ue;\nHq.prototype.wh=function(a,b,c,d,e){var f=this.wh;if(!ya(a)||!(a.bbox||a.north&&a.east&&a.south&&a.west))throw new C(f,0,'must be an object with either \"bbox\" or a full set of \"north\", \"east\", \"south\" and \"west\"');Iq(f,1,b,c);Jq(f,3,d,e);a=this.i().clone().A(b+\"/layers/\"+c+\"/bbox\").v(a);return this.I(a,\"GET\",d,e)};Hq.prototype.getFeaturesByBoundingBox=Hq.prototype.wh;\nHq.prototype.ju=function(a,b,c,d,e){var f=this.ju;if(!(ya(a)&&a.radius&&(a.lat&&(a.lng||a.lon)||a.refCatalogHrn&&a.refLayerId&&a.refFeatureId)))throw new C(f,0,'must be an object with \"radius\" and a combination of either \"lat\"+\"lng\" or \"refCatalogHrn\"+\"refLayerId\"+\"refFeatureId\"');Iq(f,1,b,c);Jq(f,3,d,e);a=this.i().clone().A(b+\"/layers/\"+c+\"/spatial\").v(a);return this.I(a,\"GET\",d,e)};Hq.prototype.getFeaturesByPointAndRadius=Hq.prototype.ju;\nHq.prototype.iu=function(a,b,c,d,e,f){var g=this.iu;if(!ya(a)||!a.radius)throw new C(g,0,'must be an object with \"radius\"');Oq(g,1,b);Iq(g,2,c,d);Jq(g,4,e,f);a=this.i().clone().A(c+\"/layers/\"+d+\"/spatial\").v(a);return this.I(a,\"POST\",e,f,b)};Hq.prototype.getFeaturesByGeometryAndRadius=Hq.prototype.iu;Hq.prototype.Sw=function(a,b,c,d,e){var f=this.Sw;Iq(f,0,a,b);Jq(f,2,c,d);a=this.i().clone().A(a+\"/layers/\"+b+\"/search\").v(e||{});return this.I(a,\"GET\",c,d)};Hq.prototype.searchFeatures=Hq.prototype.Sw;\nHq.prototype.av=function(a,b,c,d,e){var f=this.av;Iq(f,0,a,b);Jq(f,2,c,d);a=this.i().clone().A(a+\"/layers/\"+b+\"/iterate\").v(e||{});return this.I(a,\"GET\",c,d)};Hq.prototype.iterateFeatures=Hq.prototype.av;Hq.prototype.nf=function(a,b,c,d,e,f){var g=this.nf;Oq(g,0,a);Iq(g,1,b,c);Jq(g,3,d,e);b=Pq(this,b,c,f);return this.I(b,\"PUT\",d,e,a)};Hq.prototype.putFeatures=Hq.prototype.nf;\nHq.prototype.lf=function(a,b,c,d,e,f){var g=this.lf;Oq(g,0,a);Iq(g,1,b,c);Jq(g,3,d,e);b=Pq(this,b,c,f);return this.I(b,\"POST\",d,e,a)};Hq.prototype.postFeatures=Hq.prototype.lf;Hq.prototype.If=function(a,b,c,d,e){var f=this.If;Mq(f,a);Iq(f,1,b,c);Jq(f,3,d,e);a=Nq(this,a,b,c);return this.I(a,\"DELETE\",d,e)};Hq.prototype.deleteFeatures=Hq.prototype.If;Hq.prototype.Cw=function(a,b,c,d,e,f,g){var h=this.Cw;Kq(h,a);Oq(h,1,b);Iq(h,2,c,d);Jq(h,4,e,f);a=Lq(this,a,c,d,g);return this.I(a,\"PUT\",e,f,b)};\nHq.prototype.putFeature=Hq.prototype.Cw;Hq.prototype.iw=function(a,b,c,d,e,f,g){var h=this.iw;Kq(h,a);Oq(h,1,b);Iq(h,2,c,d);Jq(h,4,e,f);a=Lq(this,a,c,d,g);return this.I(a,\"PATCH\",e,f,b)};Hq.prototype.patchFeature=Hq.prototype.iw;Hq.prototype.Ct=function(a,b,c,d,e){var f=this.Ct;Kq(f,a);Iq(f,1,b,c);Jq(f,3,d,e);a=Lq(this,a,b,c);return this.I(a,\"DELETE\",d,e,void 0,\"text/plain\")};Hq.prototype.deleteFeature=Hq.prototype.Ct;\nfunction Pq(a,b,c,d){return a.i().clone().A(b+\"/layers/\"+c+\"/features\").v(d||{})}function Nq(a,b,c,d,e){b=Object.assign({},e,{id:new Eo(b)});return Pq(a,c,d,b)}function Lq(a,b,c,d,e){return a.i().clone().A(c+\"/layers/\"+d+\"/features/\"+b).v(e||{})}\nHq.prototype.I=function(a,b,c,d,e,f){f=void 0===f?\"application/json\":f;b={method:b,headers:Object.assign({},e?{\"Content-Type\":\"application/geo+json\"}:void 0,\"function\"===typeof this.uu?{Authorization:\"Bearer \"+this.uu()}:void 0,this.pc)};e&&(b.data=JSON.stringify(e));e=new gg(f,a.toString(),Xd,b);e.then(c,vo(this,a,d));return e};Hq.CONFIG_KEY=\"iml\";function Iq(a,b,c,d){db(c,\"String\",a,b,\"must be a string\");db(d,\"String\",a,b+1,\"must be a string\")}\nfunction Kq(a,b){db(b,\"String\",a,0,\"must be a string\")}function Mq(a,b){if(!Array.isArray(b)||0===b.length||b.some(function(c){return\"string\"!==typeof c}))throw new C(a,0,\"must be a non-empty array of strings\");}function Oq(a,b,c){if(!ya(c))throw new C(a,b,\"must be a GeoJSON object\");}function Jq(a,b,c,d){if(!Za(c))throw new C(a,b,\"must be a function\");if(!Za(d))throw new C(a,b+1,\"must be a function\");}X.prototype.bA=function(a){return this.Ja(Hq,a)};X.prototype.getIMLService=X.prototype.bA;function Qq(a,b,c,d){Qq.g.constructor.call(this,d?{min:d.min,max:d.max,engineType:d.engineType}:void 0);B(a,Hq,Qq,0);if(!gb(b))throw new C(Qq,1,'\"catalogHrn\" must be a string');if(!gb(c))throw new C(Qq,2,'\"layerId\" must be a string');this.$=a;this.$g=b;this.Mh=c;this.Ok=ya(d)&&ya(d.parameters)?d.parameters:{};this.Xa(this.Ep())}u(Qq,T);t(\"H.service.iml.Provider\",Qq);Qq.prototype.o=function(a,b,c,d,e){return this.$.lm(a,b,c,this.$g,this.Mh,d,e,this.Ok)};Qq.prototype.requestInternal=Qq.prototype.o;\nQq.prototype.Xc=pe;Qq.prototype.providesOMV=Qq.prototype.Xc;Qq.prototype.K=function(){return this.mb()};Qq.prototype.getStyle=Qq.prototype.K;Qq.prototype.Cb=function(a){B(a,Tg)&&a.Yb(\"MVT\");this.Xa(a)};Qq.prototype.setStyle=Qq.prototype.Cb;\nQq.prototype.Ep=function(){return this.vb===xi.WEBGL?new Tg({sources:{iml:{type:\"MVT\"}},layers:{iml:{data:{source:\"iml\",layer:this.$g+\":\"+this.Mh},points:{filter:{$geometry:\"point\"},draw:{points:{collide:!1,order:200,color:\"#92CF48\",size:[[10,\"8px\"],[14,\"12px\"],[18,\"16px\"]]}}},polygons:{filter:{$geometry:\"polygon\"},draw:{polygons:{order:201,color:\"#E39E3C\"},lines:{order:202,color:\"#755DA5\",width:\"1px\"}}},lines:{filter:{$geometry:\"line\"},draw:{lines:{order:203,color:\"#0258AE\",width:\"2px\",join:\"round\",\ncap:\"round\"}}}}}}):new H.map.render.harp.Style({styles:[{layer:this.$g+\":\"+this.Mh,when:[\"==\",[\"geometry-type\"],\"Point\"],technique:\"circles\",renderOrder:200,color:\"#92CF48\",size:[\"interpolate\",[\"linear\"],[\"zoom\"],10,8,14,12,18,16]},{layer:this.$g+\":\"+this.Mh,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"polygon\",color:\"#E39E3C\",renderOrder:201},{layer:this.$g+\":\"+this.Mh,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"solid-line\",color:\"#755DA5\",width:\"1px\",renderOrder:202},{layer:this.$g+\n\":\"+this.Mh,when:[\"==\",[\"geometry-type\"],\"LineString\"],technique:\"solid-line\",color:\"#0258AE\",width:\"2px\",renderOrder:203}]})};function Rq(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.i().clone().A(b+\"/\"+a.fb+\"/\"+c).v(f),l=a.bd;this.$=a;this.xx=k;ol.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(n,p,q){var r=h.xx.clone();l&&r.la(l[(q+p+n)%l.length]);r.A(q+\"/\"+n+\"/\"+p+\"/\"+d+\"/\"+e);return r.toString()},crossOrigin:g.crossOrigin,headers:g.headers,uri:k.toString().replace(/_/g,\"\")+d,engineType:g.engineType});this.BD=b;this.oi=c;this.Ga=f;this.Xo=c.split(\".\")[0];this.Ce=z(this.Ce,this);this.getCopyrights=\nthis.U;this.Ye=!1;a.addEventListener(\"versionupdate\",this.Ce)}u(Rq,ol);Rq.prototype.MAX_STORE_TIME=2592E6;Rq.prototype.o=function(a,b,c,d,e,f){this.Ye||(oo(Sq,\"Use HERE Vector Tile API or Raster Tile API v3 instead.\"),this.Ye=!0);return Rq.g.o.call(this,a,b,c,d,e,f)};Rq.prototype.requestInternal=Rq.prototype.o;Rq.prototype.disposeInternal=function(){ol.prototype.disposeInternal.call(this);this.$.removeEventListener(\"versionupdate\",this.Ce)};\nRq.prototype.U=function(a,b){return this.$.U().query(this.Xo,b,a)};Rq.prototype.getCopyrights=Rq.prototype.U;Rq.prototype.Ce=function(){var a=this.$;this.xx=a.i().clone().A(this.BD+\"/\"+a.fb+\"/\"+this.oi).v(this.Ga);this.reload(!1)};Rq.prototype.Vi=function(){return Ol()};Rq.prototype.td=function(){return Ol()?Nl():Rq.g.td.call(this)};function Sq(a){Sq.g.constructor.call(this,Sq,a);a=to(this,a);this.bd=a.shards;(this.Ra=a.ignoreTypes?null:a.type)&&this.i().la(this.Ra);this.fb=a.version;this.ec=new Eq;this.pr={};this.Wl=0;\"newest\"===this.fb&&this.rp()}u(Sq,so);t(\"H.service.MapTileService\",Sq);Sq.prototype.Da=function(){return{subDomain:\"maps.ls\",path:\"maptile/2.1\",type:\"base\",version:\"newest\",shards:[\"1\",\"2\",\"3\",\"4\"]}};Sq.CONFIG_KEY=\"maptile\";\nfunction Tq(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}Sq.prototype.vu=function(){return this.Ra};Sq.prototype.getType=Sq.prototype.vu;Sq.prototype.Wp=function(){return this.fb};Sq.prototype.getVersion=Sq.prototype.Wp;Sq.prototype.cs=function(a){this.fb=a};Sq.prototype.U=function(){this.Wl||(this.fb&&\"newest\"!==this.fb||\"traffic\"===this.Ra)&&this.Kf();return this.ec};Sq.prototype.getCopyrights=Sq.prototype.U;m=Sq.prototype;\nm.ss=function(a){a=a.response;var b;Tq(a,\"map\");Tq(a,\"scheme\");Tq(a,\"tiletype\");Tq(a,\"format\");Tq(a,\"resolution\");Tq(a,\"language\");if(\"newest\"===this.fb&&\"traffic\"!==this.Ra)for(b in a.maps)a.maps[b].hash&&a.maps[b].newest&&(this.cs(a.maps[b].hash),this.dispatchEvent(\"versionupdate\"));this.fq=a;this.dispatchEvent(\"infoupdate\")};m.pl=function(a){Fq(this.ec,a);this.dispatchEvent(\"copyrightupdate\")};\nm.rp=function(){var a=this;var b=this.i().clone().A(\"info\").v({output:\"json\"});this.bd&&b.la(this.bd[0]);this.o(b,function(c){a.ss(c)},function(c){throw c;})};m.Kf=function(){var a=this;var b=this.i().clone().A(\"copyright\").A(a.fb).v({output:\"json\"});this.bd&&b.la(this.bd[0]);this.Wl=1;this.o(b,function(c){a.Wl=2;a.pl(c)},function(c){a.Wl=-1;throw c;})};m.Kj=function(){return this.fq};Sq.prototype.getInfo=Sq.prototype.Kj;\nSq.prototype.nj=function(a,b,c,d,e,f){var g=this.i().clone().A(a+\"/\"+this.fb+\"/\"+b+\"/\"+c+\"/\"+d).v(e?e:{}).toString();var h=0,k,l=g.length;if(0!==l)for(k=0;k<l;k++){var n=g.charCodeAt(k);h=(h<<5)-h+n;h|=0}g=h;h=this.pr[g];h||(h=new Rq(this,a,b,c,d,e,no({headers:this.pc},f||{})),this.pr[g]=h);return h};Sq.prototype.createTileProvider=Sq.prototype.nj;Sq.prototype.Pd=function(a,b,c,d,e,f,g,h){a=this.nj(a,b,c,d,e,h);return new zj(a,{opacity:f,dark:!!g})};Sq.prototype.createTileLayer=Sq.prototype.Pd;\nX.prototype.Kp=function(a){return this.Ja(Sq,a)};X.prototype.getMapTileService=X.prototype.Kp;function Uq(a,b,c){var d=this,e=c||{},f=+e.min,g=+e.max;e.tileSize=e.tileSize||512;e.min=f?ac(f,1,17):1;e.min+=Bj(e.tileSize,1);e.max=g?ac(g,1,17):17;Uq.g.constructor.call(this,e);B(a,Vq,Uq,0);B(b,vg,Uq,1);this.$=a;b.Yb&&b.Yb(\"OMV\");this.Xa(b,!0);this.xn=!1;c&&(c.politicalView&&(this.yn=c.politicalView),Wq(this,c.lg,c.lg2),this.xn=!!c.pois);this.Ew=function(){d.Hl=mo(d);d.reload(!1)};a.addEventListener(\"versionupdate\",this.Ew);this.Hl=mo(this);Uq.prototype.Xo=function(){var h=/^v2\\/vectortiles\\/(.+)\\/mc$/.exec(a.i().jf);\nreturn h?h[1]:A+\"\"}()}u(Uq,T);t(\"H.service.omv.Provider\",Uq);Uq.prototype.Xc=pe;Uq.prototype.providesOMV=Uq.prototype.Xc;Uq.prototype.cc=function(a){return this.Hl.test(a)};Uq.prototype.cacheFilter=Uq.prototype.cc;Uq.prototype.Vd=function(a,b,c){return this.$.Sf(a,b,c).toString()};Uq.prototype.getTileKey=Uq.prototype.Vd;Uq.prototype.Sb=function(){return this.YB};Uq.prototype.getCache=Uq.prototype.Sb;Uq.prototype.yA=function(){return this.yn};Uq.prototype.getPoliticalView=Uq.prototype.yA;\nUq.prototype.gD=function(a){var b=this.yn;this.yn=a;this.dispatchEvent(new oi(\"politicalviewchange\",this.yn,b))};Uq.prototype.setPoliticalView=Uq.prototype.gD;Uq.prototype.MAX_STORE_TIME=2592E6;Uq.prototype.Vi=function(){return Ol()};Uq.prototype.td=function(){return Ol()?Nl():Uq.g.td.call(this)};Uq.prototype.o=function(a,b,c,d,e){return this.$.Pa(a,b,c,d,e)};Uq.prototype.requestInternal=Uq.prototype.o;Uq.prototype.Cb=function(a){a.Yb&&a.Yb(\"OMV\");this.Xa(a)};Uq.prototype.setStyle=Uq.prototype.Cb;\nUq.prototype.K=function(){return Uq.g.mb.apply(this)};Uq.prototype.getStyle=Uq.prototype.K;Uq.prototype.mb=function(){var a=Uq.g.mb.apply(this),b=a.getState()===wg.READY,c=a.Sd();b&&c&&c.global&&(this.pq&&(this.tw&&(c.global.ux_language=this.tw),this.Wt&&(c.global.ux_language_fallback=this.Wt)),this.xn&&c.global.poi&&c.global.poi[\"default\"]&&(c.global.poi[\"default\"].visible=this.xn),this.pq||this.xn)&&(a=new Tg(c,a.Lc()));return a};Uq.prototype.getStyleInternal=Uq.prototype.mb;\nfunction Wq(a,b,c){var d=gb(b),e=gb(c);d&&(a.tw=b);e&&(a.Wt=c);if(d||e)a.Zj=[],d=/^([a-zA-Z]{2})(-|$)/,(e=d.exec(b))&&(\"zh\"===e[1]?a.Zj.push(b):a.Zj.push(e[1])),(e=d.exec(c))&&(\"zh\"===e[1]?a.Zj.push(c):a.Zj.push(e[1])),a.pq=!0}Uq.prototype.pq=!1;var Xq=[\"en\"];Uq.prototype.Ip=function(){return this.Zj||Xq};Uq.prototype.getLanguages=Uq.prototype.Ip;Uq.prototype.disposeInternal=function(){Uq.g.disposeInternal.call(this);this.$.removeEventListener(\"versionupdate\",this.Ew)};Uq.prototype.YB=new Uj(256);\nUq.prototype.U=function(a,b){return this.$.U().query(this.Xo,b,a)};Uq.prototype.getCopyrights=Uq.prototype.U;function Vq(a){Vq.g.constructor.call(this,Vq,a);var b=to(this,a).mapVersion;this.Fn=a.queryParams||{};this.dk=ab(b)?b:Yq[this.i().toString()];ab(this.dk)||Zq(this)}u(Vq,so);t(\"H.service.omv.Service\",Vq);Vq.prototype.Da=function(){return{subDomain:\"vector\",path:\"v2/vectortiles/base/mc\"}};Vq.CONFIG_KEY=\"omv\";var Yq={};mb(Yq);Vq.prototype.mA=function(){return this.dk};Vq.prototype.getMapVersion=Vq.prototype.mA;\nfunction Zq(a){a.o(a.i().clone().A(\"../../info\"),function(b){b=b.mapVersion;var c=a.i().toString();a.dk=b;b!==Yq[c]&&(Yq[c]=b,a.dispatchEvent(\"versionupdate\"))},function(){})}Vq.prototype.od=function(a,b,c){b=b||{};var d={min:0,max:22};ya(c)&&no(d,c);return new zj(new Uq(this,a,b),d)};Vq.prototype.createLayer=Vq.prototype.od;Vq.prototype.Pa=function(a,b,c,d,e){return this.o(this.Sf(a,b,c),function(f){return f.arrayBuffer().then(d,e)},e,\"arraybuffer\")};\nVq.prototype.Sf=function(a,b,c){a=this.i().clone().A(c+\"/\"+a+\"/\"+b+\"/omv\");ab(this.dk)&&a.v({mv:this.dk}).v(this.Fn);return a};Vq.prototype.rm=function(a){return qn()+\"/\"+a};Vq.prototype.Nj=function(a,b){if(!Za(a))throw new C(this.Nj,0,'\"onResult\" must be a function');if(!Za(b))throw new C(this.Nj,1,'\"onError\" must be a function');return this.o(this.i().clone().wc(\"v2/vectortiles/pviews\"),a,b)};Vq.prototype.getPoliticalViews=Vq.prototype.Nj;X.prototype.Lj=function(a){return this.Ja(Vq,a)};\nX.prototype.getOMVService=X.prototype.Lj;Vq.prototype.Kf=function(){this.ec=new Eq;this.o(this.i().clone().A(\"../../copyrights\"),z(this.pl,this),re)};Vq.prototype.pl=function(a){Fq(this.ec,a);this.dispatchEvent(\"copyrightupdate\")};Vq.prototype.U=function(){this.ec||this.Kf();return this.ec};Vq.prototype.getCopyrights=Vq.prototype.U;function $q(a){$q.g.constructor.call(this,$q,a)}u($q,so);t(\"H.service.SearchService\",$q);$q.CONFIG_KEY=\"search\";$q.prototype.Da=function(){return{subDomain:\"search\",path:\"v1\"}};$q.prototype.Jc=function(a){a=[a.title,a.action,a.cause].filter(function(b){return b});return Error(a.join(\". \"))};$q.prototype.xp=function(a,b,c){a=this.i().clone().la(\"geocode\").A(\"geocode\").v(a);return this.o(a,b,c)};$q.prototype.geocode=$q.prototype.xp;\n$q.prototype.Fr=function(a,b,c){a=this.i().clone().la(\"revgeocode\").A(\"revgeocode\").v(a);return this.o(a,b,c)};$q.prototype.reverseGeocode=$q.prototype.Fr;$q.prototype.vy=function(a,b,c){a=this.i().clone().la(\"autosuggest\").A(\"autosuggest\").v(a);return this.o(a,b,c)};$q.prototype.autosuggest=$q.prototype.vy;$q.prototype.autocomplete=function(a,b,c){a=this.i().clone().la(\"autocomplete\").A(\"autocomplete\").v(a);return this.o(a,b,c)};$q.prototype.autocomplete=$q.prototype.autocomplete;\n$q.prototype.Yy=function(a,b,c){a=this.i().clone().la(\"discover\").A(\"discover\").v(a);return this.o(a,b,c)};$q.prototype.discover=$q.prototype.Yy;$q.prototype.EB=function(a,b,c){a=this.i().clone().la(\"lookup\").A(\"lookup\").v(a);return this.o(a,b,c)};$q.prototype.lookup=$q.prototype.EB;$q.prototype.zy=function(a,b,c){a=this.i().clone().la(\"browse\").A(\"browse\").v(a);return this.o(a,b,c)};$q.prototype.browse=$q.prototype.zy;X.prototype.JA=function(a){return this.Ja($q,a)};\nX.prototype.getSearchService=X.prototype.JA;t(\"H.service.buildInfo\",function(){return jj(\"H-service\",\"1.61.3\",\"14eda3c\",{region:\"row\"})});\n");